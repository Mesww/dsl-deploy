(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=s(e.Vue,e.dateFns))})(this,function(e,s){"use strict";function We(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}We.compatConfig={MODE:3};function Jt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Jt.compatConfig={MODE:3};function yt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}yt.compatConfig={MODE:3};function ht(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}ht.compatConfig={MODE:3};function kt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}kt.compatConfig={MODE:3};function bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}bt.compatConfig={MODE:3};function wt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}wt.compatConfig={MODE:3};const Ae=(t,n)=>n?new Date(t.toLocaleString("en-US",{timeZone:n})):new Date(t),Zt=(t,n)=>{const o=vt(t,n);return o||W()},Tn=(t,n)=>n.dateInTz?Ae(new Date(t),n.dateInTz):W(t),vt=(t,n)=>{if(!t)return null;if(!n)return W(t);const o=W(t);return n.exactMatch?Tn(t,n):Ae(o,n.timezone)},An=t=>{if(!t)return 0;const n=new Date,o=new Date(n.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(n.toLocaleString("en-US",{timeZone:t})),a=r.getTimezoneOffset()/60;return(+o-+r)/(1e3*60*60)-a};function Ft(t){return n=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`)).slice(0,2)}function Pn(t){return n=>s.format(new Date(`2017-01-0${n}T00:00:00+00:00`),"EEEEEE",{locale:t})}const Rn=(t,n,o)=>{const r=[1,2,3,4,5,6,7];let a;if(t!==null)try{a=r.map(Pn(t))}catch{a=r.map(Ft(n))}else a=r.map(Ft(n));const m=a.slice(0,o),p=a.slice(o+1,a.length);return[a[o]].concat(...p).concat(...m)},Mt=(t,n,o)=>{const r=[];for(let a=+t[0];a<=+t[1];a++)r.push({value:+a,text:ln(a,n)});return o?r.reverse():r},en=(t,n,o)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(m=>{const p=m<10?`0${m}`:m;return new Date(`2017-${p}-01T00:00:00+00:00`)});if(t!==null)try{const m=o==="long"?"MMMM":"MMM";return r.map((p,u)=>{const P=s.format(Ae(p,"UTC"),m,{locale:t});return{text:P.charAt(0).toUpperCase()+P.substring(1),value:u}})}catch{}const a=new Intl.DateTimeFormat(n,{month:o,timeZone:"UTC"});return r.map((m,p)=>{const u=a.format(m);return{text:u.charAt(0).toUpperCase()+u.substring(1),value:p}})},Nn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ke=t=>{const n=e.unref(t);return n!=null&&n.$el?n==null?void 0:n.$el:n},En=t=>({type:"dot",...t??{}}),tn=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,St={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},he=t=>t,nn=t=>t===0?t:!t||isNaN(+t)?null:+t,an=t=>t===null,rn=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},_n=t=>{const n=[],o=r=>r.filter(a=>a);for(let r=0;r<t.length;r+=3){const a=[t[r],t[r+1],t[r+2]];n.push(o(a))}return n},Qe=(t,n,o)=>{const r=o!=null,a=n!=null;if(!r&&!a)return!1;const m=+o,p=+n;return r&&a?+t>m||+t<p:r?+t>m:a?+t<p:!1},Ue=(t,n)=>_n(t).map(o=>o.map(r=>{const{active:a,disabled:m,isBetween:p,highlighted:u}=n(r);return{...r,active:a,disabled:m,className:{dp__overlay_cell_active:a,dp__overlay_cell:!a,dp__overlay_cell_disabled:m,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:m&&a,dp__cell_in_between:p,"dp--highlighted":u}}})),Ee=(t,n,o=!1)=>{t&&n.allowStopPropagation&&(o&&t.stopImmediatePropagation(),t.stopPropagation())},Vn=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Yn(t,n){let o=[...document.querySelectorAll(Vn())];o=o.filter(a=>!t.contains(a)||a.hasAttribute("data-datepicker-instance"));const r=o.indexOf(t);if(r>=0&&(n?r-1>=0:r+1<=o.length))return o[r+(n?-1:1)]}const On=(t,n)=>t==null?void 0:t.querySelector(`[data-dp-element="${n}"]`),ln=(t,n)=>new Intl.NumberFormat(n,{useGrouping:!1,style:"decimal"}).format(t),Dt=t=>s.format(t,"dd-MM-yyyy"),Ct=t=>Array.isArray(t),rt=(t,n)=>n.get(Dt(t)),In=(t,n)=>t?n?n instanceof Map?!!rt(t,n):n(W(t)):!1:!0,on=(t,n,o,r,a,m)=>{const p=s.parse(t,n.slice(0,t.length),new Date,{locale:m});return s.isValid(p)&&s.isDate(p)?r||a?p:s.set(p,{hours:+o.hours,minutes:+(o==null?void 0:o.minutes),seconds:+(o==null?void 0:o.seconds),milliseconds:0}):null},zn=(t,n,o,r,a,m)=>{const p=Array.isArray(o)?o[0]:o;if(typeof n=="string")return on(t,n,p,r,a,m);if(Array.isArray(n)){let u=null;for(const P of n)if(u=on(t,P,p,r,a,m),u)break;return u}return typeof n=="function"?n(t):null},W=t=>t?new Date(t):new Date,Ln=(t,n,o)=>{if(n){const a=(t.getMonth()+1).toString().padStart(2,"0"),m=t.getDate().toString().padStart(2,"0"),p=t.getHours().toString().padStart(2,"0"),u=t.getMinutes().toString().padStart(2,"0"),P=o?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${a}-${m}T${p}:${u}:${P}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},ve=t=>{let n=W(JSON.parse(JSON.stringify(t)));return n=s.setHours(n,0),n=s.setMinutes(n,0),n=s.setSeconds(n,0),n=s.setMilliseconds(n,0),n},_e=(t,n,o,r)=>{let a=t?W(t):W();return(n||n===0)&&(a=s.setHours(a,+n)),(o||o===0)&&(a=s.setMinutes(a,+o)),(r||r===0)&&(a=s.setSeconds(a,+r)),s.setMilliseconds(a,0)},pe=(t,n)=>!t||!n?!1:s.isBefore(ve(t),ve(n)),ue=(t,n)=>!t||!n?!1:s.isEqual(ve(t),ve(n)),ge=(t,n)=>!t||!n?!1:s.isAfter(ve(t),ve(n)),lt=(t,n,o)=>t!=null&&t[0]&&(t!=null&&t[1])?ge(o,t[0])&&pe(o,t[1]):t!=null&&t[0]&&n?ge(o,t[0])&&pe(o,n)||pe(o,t[0])&&ge(o,n):!1,Be=t=>{const n=s.set(new Date(t),{date:1});return ve(n)},Bt=(t,n,o)=>n&&(o||o===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===n?[r,o]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},ze=t=>({hours:s.getHours(t),minutes:s.getMinutes(t),seconds:s.getSeconds(t)}),sn=(t,n)=>{if(n){const o=s.getYear(W(n));if(o>t)return 12;if(o===t)return s.getMonth(W(n))}},un=(t,n)=>{if(n){const o=s.getYear(W(n));return o<t?-1:o===t?s.getMonth(W(n)):void 0}},je=t=>{if(t)return s.getYear(W(t))},cn=(t,n)=>{const o=ge(t,n)?n:t,r=ge(n,t)?n:t;return s.eachDayOfInterval({start:o,end:r})},Kn=t=>{const n=s.addMonths(t,1);return{month:s.getMonth(n),year:s.getYear(n)}},Re=(t,n)=>{const o=s.startOfWeek(t,{weekStartsOn:+n}),r=s.endOfWeek(t,{weekStartsOn:+n});return[o,r]},dn=(t,n)=>{const o={hours:s.getHours(W()),minutes:s.getMinutes(W()),seconds:n?s.getSeconds(W()):0};return Object.assign(o,t)},Ve=(t,n,o)=>[s.set(W(t),{date:1}),s.set(W(),{month:n,year:o,date:1})],Ne=(t,n,o)=>{let r=t?W(t):W();return(n||n===0)&&(r=s.setMonth(r,n)),o&&(r=s.setYear(r,o)),r},fn=(t,n,o,r,a)=>{if(!r||a&&!n||!a&&!o)return!1;const m=a?s.addMonths(t,1):s.subMonths(t,1),p=[s.getMonth(m),s.getYear(m)];return a?!Wn(...p,n):!Hn(...p,o)},Hn=(t,n,o)=>pe(...Ve(o,t,n))||ue(...Ve(o,t,n)),Wn=(t,n,o)=>ge(...Ve(o,t,n))||ue(...Ve(o,t,n)),mn=(t,n,o,r,a,m,p)=>{if(typeof n=="function"&&!p)return n(t);const u=o?{locale:o}:void 0;return Array.isArray(t)?`${s.format(t[0],m,u)}${a&&!t[1]?"":r}${t[1]?s.format(t[1],m,u):""}`:s.format(t,m,u)},xe=t=>{if(t)return null;throw new Error(St.prop("partial-range"))},ot=(t,n)=>{if(n)return t();throw new Error(St.prop("range"))},$t=t=>Array.isArray(t)?s.isValid(t[0])&&(t[1]?s.isValid(t[1]):!0):t?s.isValid(t):!1,Un=(t,n)=>s.set(n??W(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Tt=(t,n,o,r)=>{if(!t)return!0;if(r){const a=o==="max"?s.isBefore(t,n):s.isAfter(t,n),m={seconds:0,milliseconds:0};return a||s.isEqual(s.set(t,m),s.set(n,m))}return o==="max"?t.getTime()<=n.getTime():t.getTime()>=n.getTime()},At=(t,n,o)=>t?Un(t,n):W(o??n),pn=(t,n,o,r,a)=>{if(Array.isArray(r)){const p=At(t,r[0],n),u=At(t,r[1],n);return Tt(r[0],p,o,!!n)&&Tt(r[1],u,o,!!n)&&a}const m=At(t,r,n);return Tt(r,m,o,!!n)&&a},Pt=t=>s.set(W(),ze(t)),jn=(t,n)=>t instanceof Map?Array.from(t.values()).filter(o=>s.getYear(W(o))===n).map(o=>s.getMonth(o)):[],gn=(t,n,o)=>typeof t=="function"?t({month:n,year:o}):!!t.months.find(r=>r.month===n&&r.year===o),Rt=(t,n)=>typeof t=="function"?t(n):t.years.includes(n),Ge=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),yn=()=>{const t=r=>{Ge.menuFocused=r},n=r=>{Ge.shiftKeyInMenu!==r&&(Ge.shiftKeyInMenu=r)};return{control:e.computed(()=>({shiftKeyInMenu:Ge.shiftKeyInMenu,menuFocused:Ge.menuFocused})),setMenuFocused:t,setShiftKey:n}},de=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Nt=e.ref(null),st=e.ref(!1),Et=e.ref(!1),_t=e.ref(!1),Vt=e.ref(!1),be=e.ref(0),ye=e.ref(0),Ye=()=>{const t=e.computed(()=>st.value?[...de.selectionGrid,de.actionRow].filter(w=>w.length):Et.value?[...de.timePicker[0],...de.timePicker[1],Vt.value?[]:[Nt.value],de.actionRow].filter(w=>w.length):_t.value?[...de.monthPicker,de.actionRow]:[de.monthYear,...de.calendar,de.time,de.actionRow].filter(w=>w.length)),n=w=>{be.value=w?be.value+1:be.value-1;let z=null;t.value[ye.value]&&(z=t.value[ye.value][be.value]),!z&&t.value[ye.value+(w?1:-1)]?(ye.value=ye.value+(w?1:-1),be.value=w?0:t.value[ye.value].length-1):z||(be.value=w?be.value-1:be.value+1)},o=w=>{if(ye.value===0&&!w||ye.value===t.value.length&&w)return;ye.value=w?ye.value+1:ye.value-1,t.value[ye.value]?t.value[ye.value]&&!t.value[ye.value][be.value]&&be.value!==0&&(be.value=t.value[ye.value].length-1):ye.value=w?ye.value-1:ye.value+1},r=w=>{let z=null;t.value[ye.value]&&(z=t.value[ye.value][be.value]),z?z.focus({preventScroll:!st.value}):be.value=w?be.value-1:be.value+1},a=()=>{n(!0),r(!0)},m=()=>{n(!1),r(!1)},p=()=>{o(!1),r(!0)},u=()=>{o(!0),r(!0)},P=(w,z)=>{de[z]=w},E=(w,z)=>{de[z]=w},b=()=>{be.value=0,ye.value=0};return{buildMatrix:P,buildMultiLevelMatrix:E,setTimePickerBackRef:w=>{Nt.value=w},setSelectionGrid:w=>{st.value=w,b(),w||(de.selectionGrid=[])},setTimePicker:(w,z=!1)=>{Et.value=w,Vt.value=z,b(),w||(de.timePicker[0]=[],de.timePicker[1]=[])},setTimePickerElements:(w,z=0)=>{de.timePicker[z]=w},arrowRight:a,arrowLeft:m,arrowUp:p,arrowDown:u,clearArrowNav:()=>{de.monthYear=[],de.calendar=[],de.time=[],de.actionRow=[],de.selectionGrid=[],de.timePicker[0]=[],de.timePicker[1]=[],st.value=!1,Et.value=!1,Vt.value=!1,_t.value=!1,b(),Nt.value=null},setMonthPicker:w=>{_t.value=w,b()},refSets:de}},hn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),xn=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),kn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,qn=t=>{const n=typeof t=="object"&&t,o={static:!0,solo:!1};if(!t)return{...o,count:kn(!1)};const r=n?t:{},a=n?r.count??!0:t,m=kn(a);return Object.assign(o,r,{count:m})},Qn=(t,n,o)=>t||(typeof o=="string"?o:n),Gn=t=>typeof t=="boolean"?t?hn({}):!1:hn(t),Xn=t=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...n,...t??{},enabled:!0}:{...n,enabled:t}},Jn=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),Zn=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),Fn=t=>{const n={input:!1};return typeof t=="object"?{...n,...t??{},enabled:!0}:{enabled:t,...n}},ea=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1},...t??{}}),ta=t=>{const n={dates:Array.isArray(t)?t.map(o=>W(o)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...n,...t??{}}},na=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},aa=(t,n)=>{const o={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...o,...t}:{enabled:t,noDisabledRange:n.noDisabledRange,showLastInRange:n.showLastInRange,minMaxRawRange:n.minMaxRawRange,partialRange:n.partialRange,disableTimeRangeValidation:n.disableTimeRangeValidation,maxRange:n.maxRange,minRange:n.minRange,autoRange:n.autoRange,fixedStart:n.fixedStart,fixedEnd:n.fixedEnd}},ra=(t,n)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:n,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:n??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:n},Yt=(t,n)=>new Map(t.map(o=>{const r=Zt(o,n);return[Dt(r),r]})),la=(t,n)=>t.length?new Map(t.map(o=>{const r=Zt(o.date,n);return[Dt(r),o]})):null,oa=(t,n,o,r,a,m,p)=>({minDate:vt(t,p),maxDate:vt(n,p),disabledDates:Ct(o)?Yt(o,p):o,allowedDates:Ct(r)?Yt(r,p):null,highlight:typeof a=="object"&&Ct(a==null?void 0:a.dates)?Yt(a.dates,p):a,markers:la(m,p)}),sa=(t,n)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+n}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},me=t=>{const n=()=>{const I=t.enableSeconds?":ss":"",_=t.enableMinutes?":mm":"";return t.is24?`HH${_}${I}`:`hh${_}${I} aa`},o=()=>{var I;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?n():t.weekPicker?`${((I=V.value)==null?void 0:I.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},r=I=>dn(I,t.enableSeconds),a=()=>q.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,m=e.computed(()=>qn(t.multiCalendars)),p=e.computed(()=>a()),u=e.computed(()=>xn(t.ariaLabels)),P=e.computed(()=>Jn(t.filters)),E=e.computed(()=>Gn(t.transitions)),b=e.computed(()=>Zn(t.actionRow)),M=e.computed(()=>Qn(t.previewFormat,t.format,o())),v=e.computed(()=>Xn(t.textInput)),R=e.computed(()=>Fn(t.inline)),U=e.computed(()=>ea(t.config)),$=e.computed(()=>ta(t.highlight)),V=e.computed(()=>na(t.weekNumbers)),w=e.computed(()=>ra(t.timezone,t.emitTimezone)),z=e.computed(()=>sa(t.multiDates,t.multiDatesLimit)),Y=e.computed(()=>oa(t.minDate,t.maxDate,t.disabledDates,t.allowedDates,$.value,t.markers,w.value)),q=e.computed(()=>aa(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:E,defaultedMultiCalendars:m,defaultedStartTime:p,defaultedAriaLabels:u,defaultedFilters:P,defaultedActionRow:b,defaultedPreviewFormat:M,defaultedTextInput:v,defaultedInline:R,defaultedConfig:U,defaultedHighlight:$,defaultedWeekNumbers:V,defaultedRange:q,propDates:Y,defaultedTz:w,defaultedMultiDates:z,getDefaultPattern:o,getDefaultStartTime:a}};var $e=(t=>(t.month="month",t.year="year",t))($e||{}),Le=(t=>(t.top="top",t.bottom="bottom",t))(Le||{}),Ke=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Ke||{}),Pe=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Pe||{});const ia=["timestamp","date","iso"],ua=(t,n,o)=>{const r=e.ref(),{defaultedTextInput:a,defaultedRange:m,defaultedTz:p,defaultedMultiDates:u,getDefaultPattern:P}=me(n),E=e.ref(""),b=e.toRef(n,"format"),M=e.toRef(n,"formatLocale");e.watch(r,()=>{typeof n.onInternalModelChange=="function"&&t("internal-model-change",r.value,A(!0))},{deep:!0}),e.watch(b,()=>{y()});const v=d=>p.value.timezone&&p.value.convertModel?Ae(d,p.value.timezone):d,R=d=>{if(p.value.timezone&&p.value.convertModel){const ee=An(p.value.timezone);return s.addHours(d,ee)}return d},U=(d,ee,l=!1)=>mn(d,n.format,n.formatLocale,a.value.rangeSeparator,n.modelAuto,ee??P(),l),$=d=>d?n.modelType?O(d):{hours:s.getHours(d),minutes:s.getMinutes(d),seconds:n.enableSeconds?s.getSeconds(d):0}:null,V=d=>n.modelType?O(d):{month:s.getMonth(d),year:s.getYear(d)},w=d=>Array.isArray(d)?u.value.enabled?d.map(ee=>z(ee,s.setYear(W(),ee))):ot(()=>[s.setYear(W(),d[0]),d[1]?s.setYear(W(),d[1]):xe(m.value.partialRange)],m.value.enabled):s.setYear(W(),+d),z=(d,ee)=>(typeof d=="string"||typeof d=="number")&&n.modelType?Q(d):ee,Y=d=>Array.isArray(d)?[z(d[0],_e(null,+d[0].hours,+d[0].minutes,d[0].seconds)),z(d[1],_e(null,+d[1].hours,+d[1].minutes,d[1].seconds))]:z(d,_e(null,d.hours,d.minutes,d.seconds)),q=d=>{const ee=s.set(W(),{date:1});return Array.isArray(d)?u.value.enabled?d.map(l=>z(l,Ne(ee,+l.month,+l.year))):ot(()=>[z(d[0],Ne(ee,+d[0].month,+d[0].year)),z(d[1],d[1]?Ne(ee,+d[1].month,+d[1].year):xe(m.value.partialRange))],m.value.enabled):z(d,Ne(ee,+d.month,+d.year))},I=d=>{if(Array.isArray(d))return d.map(ee=>Q(ee));throw new Error(St.dateArr("multi-dates"))},_=d=>{if(Array.isArray(d)&&m.value.enabled){const ee=d[0],l=d[1];return[W(Array.isArray(ee)?ee[0]:null),W(Array.isArray(l)?l[0]:null)]}return W(d[0])},j=d=>n.modelAuto?Array.isArray(d)?[Q(d[0]),Q(d[1])]:n.autoApply?[Q(d)]:[Q(d),null]:Array.isArray(d)?ot(()=>d[1]?[Q(d[0]),d[1]?Q(d[1]):xe(m.value.partialRange)]:[Q(d[0])],m.value.enabled):Q(d),k=()=>{Array.isArray(r.value)&&m.value.enabled&&r.value.length===1&&r.value.push(xe(m.value.partialRange))},re=()=>{const d=r.value;return[O(d[0]),d[1]?O(d[1]):xe(m.value.partialRange)]},ne=()=>r.value[1]?re():O(he(r.value[0])),te=()=>(r.value||[]).map(d=>O(d)),N=(d=!1)=>(d||k(),n.modelAuto?ne():u.value.enabled?te():Array.isArray(r.value)?ot(()=>re(),m.value.enabled):O(he(r.value))),K=d=>!d||Array.isArray(d)&&!d.length?null:n.timePicker?Y(he(d)):n.monthPicker?q(he(d)):n.yearPicker?w(he(d)):u.value.enabled?I(he(d)):n.weekPicker?_(he(d)):j(he(d)),J=d=>{const ee=K(d);$t(he(ee))?(r.value=he(ee),y()):(r.value=null,E.value="")},L=()=>{const d=ee=>s.format(ee,a.value.format);return`${d(r.value[0])} ${a.value.rangeSeparator} ${r.value[1]?d(r.value[1]):""}`},f=()=>o.value&&r.value?Array.isArray(r.value)?L():s.format(r.value,a.value.format):U(r.value),B=()=>r.value?u.value.enabled?r.value.map(d=>U(d)).join("; "):a.value.enabled&&typeof a.value.format=="string"?f():U(r.value):"",y=()=>{!n.format||typeof n.format=="string"||a.value.enabled&&typeof a.value.format=="string"?E.value=B():E.value=n.format(r.value)},Q=d=>{if(n.utc){const ee=new Date(d);return n.utc==="preserve"?new Date(ee.getTime()+ee.getTimezoneOffset()*6e4):ee}return n.modelType?ia.includes(n.modelType)?v(new Date(d)):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?v(s.parse(d,P(),new Date,{locale:M.value})):v(s.parse(d,n.modelType,new Date,{locale:M.value})):v(new Date(d))},O=d=>d?n.utc?Ln(d,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+R(d):n.modelType==="iso"?R(d).toISOString():n.modelType==="format"&&(typeof n.format=="string"||!n.format)?U(R(d)):U(R(d),n.modelType,!0):R(d):"",g=(d,ee=!1,l=!1)=>{if(l)return d;if(t("update:model-value",d),p.value.emitTimezone&&ee){const T=Array.isArray(d)?d.map(X=>Ae(he(X),p.value.emitTimezone)):Ae(he(d),p.value.emitTimezone);t("update:model-timezone-value",T)}},H=d=>Array.isArray(r.value)?u.value.enabled?r.value.map(ee=>d(ee)):[d(r.value[0]),r.value[1]?d(r.value[1]):xe(m.value.partialRange)]:d(he(r.value)),F=()=>{if(Array.isArray(r.value)){const d=Re(r.value[0],n.weekStart),ee=r.value[1]?Re(r.value[1],n.weekStart):[];return[d.map(l=>W(l)),ee.map(l=>W(l))]}return Re(r.value,n.weekStart).map(d=>W(d))},c=(d,ee)=>g(he(H(d)),!1,ee),S=d=>{const ee=F();return d?ee:t("update:model-value",F())},A=(d=!1)=>(d||y(),n.monthPicker?c(V,d):n.timePicker?c($,d):n.yearPicker?c(s.getYear,d):n.weekPicker?S(d):g(N(d),!0,d));return{inputValue:E,internalModelValue:r,checkBeforeEmit:()=>r.value?m.value.enabled?m.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:J,formatInputValue:y,emitModelValue:A}},ca=(t,n)=>{const{defaultedFilters:o,propDates:r}=me(t),{validateMonthYearInRange:a}=Ie(t),m=(b,M)=>{let v=b;return o.value.months.includes(s.getMonth(v))?(v=M?s.addMonths(b,1):s.subMonths(b,1),m(v,M)):v},p=(b,M)=>{let v=b;return o.value.years.includes(s.getYear(v))?(v=M?s.addYears(b,1):s.subYears(b,1),p(v,M)):v},u=(b,M=!1)=>{const v=s.set(W(),{month:t.month,year:t.year});let R=b?s.addMonths(v,1):s.subMonths(v,1);t.disableYearSelect&&(R=s.setYear(R,t.year));let U=s.getMonth(R),$=s.getYear(R);o.value.months.includes(U)&&(R=m(R,b),U=s.getMonth(R),$=s.getYear(R)),o.value.years.includes($)&&(R=p(R,b),$=s.getYear(R)),a(U,$,b,t.preventMinMaxNavigation)&&P(U,$,M)},P=(b,M,v)=>{n("update-month-year",{month:b,year:M,fromNav:v})},E=e.computed(()=>b=>fn(s.set(W(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,b));return{handleMonthYearChange:u,isDisabled:E,updateMonthYear:P}};var qe=(t=>(t.center="center",t.left="left",t.right="right",t))(qe||{});const da=({menuRef:t,menuRefInner:n,inputRef:o,pickerWrapperRef:r,inline:a,emit:m,props:p,slots:u})=>{const P=e.ref({}),E=e.ref(!1),b=e.ref({top:"0",left:"0"}),M=e.ref(!1),v=e.toRef(p,"teleportCenter");e.watch(v,()=>{b.value=JSON.parse(JSON.stringify({})),q()});const R=f=>{if(p.teleport){const B=f.getBoundingClientRect();return{left:B.left+window.scrollX,top:B.top+window.scrollY}}return{top:0,left:0}},U=(f,B)=>{b.value.left=`${f+B-P.value.width}px`},$=f=>{b.value.left=`${f}px`},V=(f,B)=>{p.position===qe.left&&$(f),p.position===qe.right&&U(f,B),p.position===qe.center&&(b.value.left=`${f+B/2-P.value.width/2}px`)},w=f=>{const{width:B,height:y}=f.getBoundingClientRect(),{top:Q,left:O}=p.altPosition?p.altPosition(f):R(f);return{top:+Q,left:+O,width:B,height:y}},z=()=>{b.value.left="50%",b.value.top="50%",b.value.transform="translate(-50%, -50%)",b.value.position="fixed",delete b.value.opacity},Y=()=>{const f=ke(o),{top:B,left:y,transform:Q}=p.altPosition(f);b.value={top:`${B}px`,left:`${y}px`,transform:Q??""}},q=(f=!0)=>{var B;if(!a.value.enabled){if(v.value)return z();if(p.altPosition!==null)return Y();if(f){const y=p.teleport?(B=n.value)==null?void 0:B.$el:t.value;y&&(P.value=y.getBoundingClientRect()),m("recalculate-position")}return te()}},I=({inputEl:f,left:B,width:y})=>{window.screen.width>768&&!E.value&&V(B,y),k(f)},_=f=>{const{top:B,left:y,height:Q,width:O}=w(f);b.value.top=`${Q+B+ +p.offset}px`,M.value=!1,E.value||(b.value.left=`${y+O/2-P.value.width/2}px`),I({inputEl:f,left:y,width:O})},j=f=>{const{top:B,left:y,width:Q}=w(f);b.value.top=`${B-+p.offset-P.value.height}px`,M.value=!0,I({inputEl:f,left:y,width:Q})},k=f=>{if(p.autoPosition){const{left:B,width:y}=w(f),{left:Q,right:O}=P.value;if(!E.value){if(Math.abs(Q)!==Math.abs(O)){if(Q<=0)return E.value=!0,$(B);if(O>=document.documentElement.clientWidth)return E.value=!0,U(B,y)}return V(B,y)}}},re=()=>{const f=ke(o);if(f){const{height:B}=P.value,{top:y,height:Q}=f.getBoundingClientRect(),g=window.innerHeight-y-Q,H=y;return B<=g?Le.bottom:B>g&&B<=H?Le.top:g>=H?Le.bottom:Le.top}return Le.bottom},ne=f=>re()===Le.bottom?_(f):j(f),te=()=>{const f=ke(o);if(f)return p.autoPosition?ne(f):_(f)},N=function(f){if(f){const B=f.scrollHeight>f.clientHeight,Q=window.getComputedStyle(f).overflowY.indexOf("hidden")!==-1;return B&&!Q}return!0},K=function(f){return!f||f===document.body||f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:N(f)?f:K(f.assignedSlot?f.assignedSlot.parentNode:f.parentNode)},J=f=>{if(f)switch(p.position){case qe.left:return{left:0,transform:"translateX(0)"};case qe.right:return{left:`${f.width}px`,transform:"translateX(-100%)"};default:return{left:`${f.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:M,menuStyle:b,xCorrect:E,setMenuPosition:q,getScrollableParent:K,shadowRender:(f,B)=>{var F,c,S;const y=document.createElement("div"),Q=(F=ke(o))==null?void 0:F.getBoundingClientRect();y.setAttribute("id","dp--temp-container");const O=(c=r.value)!=null&&c.clientWidth?r.value:document.body;O.append(y);const g=J(Q),H=e.h(f,{...B,shadow:!0,style:{opacity:0,position:"absolute",...g}},Object.fromEntries(Object.keys(u).filter(A=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(A)).map(A=>[A,u[A]])));e.render(H,y),P.value=(S=H.el)==null?void 0:S.getBoundingClientRect(),e.render(null,y),O.removeChild(y)}}},Oe=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]}],fa=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],ma={all:()=>Oe,monthYear:()=>Oe.filter(t=>t.use.includes("month-year")),input:()=>fa,timePicker:()=>Oe.filter(t=>t.use.includes("time")),action:()=>Oe.filter(t=>t.use.includes("action")),calendar:()=>Oe.filter(t=>t.use.includes("calendar")),menu:()=>Oe.filter(t=>t.use.includes("menu")),shared:()=>Oe.filter(t=>t.use.includes("shared")),yearMode:()=>Oe.filter(t=>t.use.includes("year-mode"))},Me=(t,n,o)=>{const r=[];return ma[n]().forEach(a=>{t[a.name]&&r.push(a.name)}),o!=null&&o.length&&o.forEach(a=>{a.slot&&r.push(a.slot)}),r},Xe=t=>{const n=e.computed(()=>r=>t.value?r?t.value.open:t.value.close:""),o=e.computed(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!t.value,menuTransition:o}},Je=(t,n)=>{const{defaultedRange:o,defaultedTz:r}=me(t),a=W(Ae(W(),r.value.timezone)),m=e.ref([{month:s.getMonth(a),year:s.getYear(a)}]),p=e.reactive({hours:o.value.enabled?[s.getHours(a),s.getHours(a)]:s.getHours(a),minutes:o.value.enabled?[s.getMinutes(a),s.getMinutes(a)]:s.getMinutes(a),seconds:o.value.enabled?[0,0]:0}),u=e.computed({get:()=>t.internalModelValue,set:b=>{!t.readonly&&!t.disabled&&n("update:internal-model-value",b)}}),P=e.computed(()=>b=>m.value[b]?m.value[b].month:0),E=e.computed(()=>b=>m.value[b]?m.value[b].year:0);return{calendars:m,time:p,modelValue:u,month:P,year:E,today:a}},pa=(t,n)=>{const{defaultedMultiCalendars:o,defaultedMultiDates:r,defaultedHighlight:a,defaultedTz:m,propDates:p,defaultedRange:u}=me(n),{isDisabled:P}=Ie(n),E=e.ref(null),b=e.ref(Ae(new Date,m.value.timezone)),M=c=>{!c.current&&n.hideOffsetDates||(E.value=c.value)},v=()=>{E.value=null},R=c=>Array.isArray(t.value)&&u.value.enabled&&t.value[0]&&E.value?c?ge(E.value,t.value[0]):pe(E.value,t.value[0]):!0,U=(c,S)=>{const A=()=>t.value?S?t.value[0]||null:t.value[1]:null,le=t.value&&Array.isArray(t.value)?A():null;return ue(W(c.value),le)},$=c=>{const S=Array.isArray(t.value)?t.value[0]:null;return c?!pe(E.value??null,S):!0},V=(c,S=!0)=>(u.value.enabled||n.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?n.hideOffsetDates&&!c.current?!1:ue(W(c.value),t.value[S?0:1]):u.value.enabled?U(c,S)&&$(S)||ue(c.value,Array.isArray(t.value)?t.value[0]:null)&&R(S):!1,w=(c,S)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const A=ue(c.value,E.value);return S?ge(t.value[0],c.value)&&A:pe(t.value[0],c.value)&&A}return!1},z=c=>!t.value||n.hideOffsetDates&&!c.current?!1:u.value.enabled?n.modelAuto&&Array.isArray(t.value)?ue(c.value,t.value[0]?t.value[0]:b.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(S=>ue(S,c.value)):ue(c.value,t.value?t.value:b.value),Y=c=>{if(u.value.autoRange||n.weekPicker){if(E.value){if(n.hideOffsetDates&&!c.current)return!1;const S=s.addDays(E.value,+u.value.autoRange),A=Re(W(E.value),n.weekStart);return n.weekPicker?ue(A[1],W(c.value)):ue(S,W(c.value))}return!1}return!1},q=c=>{if(u.value.autoRange||n.weekPicker){if(E.value){const S=s.addDays(E.value,+u.value.autoRange);if(n.hideOffsetDates&&!c.current)return!1;const A=Re(W(E.value),n.weekStart);return n.weekPicker?ge(c.value,A[0])&&pe(c.value,A[1]):ge(c.value,E.value)&&pe(c.value,S)}return!1}return!1},I=c=>{if(u.value.autoRange||n.weekPicker){if(E.value){if(n.hideOffsetDates&&!c.current)return!1;const S=Re(W(E.value),n.weekStart);return n.weekPicker?ue(S[0],c.value):ue(E.value,c.value)}return!1}return!1},_=c=>lt(t.value,E.value,c.value),j=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,k=()=>n.modelAuto?tn(n.internalModelValue):!0,re=c=>{if(n.weekPicker)return!1;const S=u.value.enabled?!V(c)&&!V(c,!1):!0;return!P(c.value)&&!z(c)&&!(!c.current&&n.hideOffsetDates)&&S},ne=c=>u.value.enabled?n.modelAuto?j()&&z(c):!1:z(c),te=c=>a.value?In(c.value,p.value.highlight):!1,N=c=>{const S=P(c.value);return S&&(typeof a.value=="function"?!a.value(c.value,S):!a.value.options.highlightDisabled)},K=c=>{var S;return typeof a.value=="function"?a.value(c.value):(S=a.value.weekdays)==null?void 0:S.includes(c.value.getDay())},J=c=>(u.value.enabled||n.weekPicker)&&(!(o.value.count>0)||c.current)&&k()&&!(!c.current&&n.hideOffsetDates)&&!z(c)?_(c):!1,L=c=>{const{isRangeStart:S,isRangeEnd:A}=Q(c),le=u.value.enabled?S||A:!1;return{dp__cell_offset:!c.current,dp__pointer:!n.disabled&&!(!c.current&&n.hideOffsetDates)&&!P(c.value),dp__cell_disabled:P(c.value),dp__cell_highlight:!N(c)&&(te(c)||K(c))&&!ne(c)&&!le&&!I(c)&&!(J(c)&&n.weekPicker)&&!A,dp__cell_highlight_active:!N(c)&&(te(c)||K(c))&&ne(c),dp__today:!n.noToday&&ue(c.value,b.value)&&c.current,"dp--past":pe(c.value,b.value),"dp--future":ge(c.value,b.value)}},f=c=>({dp__active_date:ne(c),dp__date_hover:re(c)}),B=c=>{if(t.value&&!Array.isArray(t.value)){const S=Re(t.value,n.weekStart);return{...g(c),dp__range_start:ue(S[0],c.value),dp__range_end:ue(S[1],c.value),dp__range_between_week:ge(c.value,S[0])&&pe(c.value,S[1])}}return{...g(c)}},y=c=>{if(t.value&&Array.isArray(t.value)){const S=Re(t.value[0],n.weekStart),A=t.value[1]?Re(t.value[1],n.weekStart):[];return{...g(c),dp__range_start:ue(S[0],c.value)||ue(A[0],c.value),dp__range_end:ue(S[1],c.value)||ue(A[1],c.value),dp__range_between_week:ge(c.value,S[0])&&pe(c.value,S[1])||ge(c.value,A[0])&&pe(c.value,A[1]),dp__range_between:ge(c.value,S[1])&&pe(c.value,A[0])}}return{...g(c)}},Q=c=>{const S=o.value.count>0?c.current&&V(c)&&k():V(c)&&k(),A=o.value.count>0?c.current&&V(c,!1)&&k():V(c,!1)&&k();return{isRangeStart:S,isRangeEnd:A}},O=c=>{const{isRangeStart:S,isRangeEnd:A}=Q(c);return{dp__range_start:S,dp__range_end:A,dp__range_between:J(c),dp__date_hover:ue(c.value,E.value)&&!S&&!A&&!n.weekPicker,dp__date_hover_start:w(c,!0),dp__date_hover_end:w(c,!1)}},g=c=>({...O(c),dp__cell_auto_range:q(c),dp__cell_auto_range_start:I(c),dp__cell_auto_range_end:Y(c)}),H=c=>u.value.enabled?u.value.autoRange?g(c):n.modelAuto?{...f(c),...O(c)}:n.weekPicker?y(c):O(c):n.weekPicker?B(c):f(c);return{setHoverDate:M,clearHoverDate:v,getDayClassData:c=>n.hideOffsetDates&&!c.current?{}:{...L(c),...H(c),[n.dayClass?n.dayClass(c.value):""]:!0,[n.calendarCellClassName]:!!n.calendarCellClassName}}},Ie=t=>{const{defaultedFilters:n,defaultedRange:o,propDates:r,defaultedMultiDates:a}=me(t),m=N=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(W(N)):!!rt(N,r.value.disabledDates):!1,p=N=>{const K=r.value.maxDate?ge(N,r.value.maxDate):!1,J=r.value.minDate?pe(N,r.value.minDate):!1,L=m(N),B=n.value.months.map(H=>+H).includes(s.getMonth(N)),y=t.disabledWeekDays.length?t.disabledWeekDays.some(H=>+H===s.getDay(N)):!1,Q=M(N),O=s.getYear(N),g=O<+t.yearRange[0]||O>+t.yearRange[1];return!(K||J||L||B||g||y||Q)},u=(N,K)=>pe(...Ve(r.value.minDate,N,K))||ue(...Ve(r.value.minDate,N,K)),P=(N,K)=>ge(...Ve(r.value.maxDate,N,K))||ue(...Ve(r.value.maxDate,N,K)),E=(N,K,J)=>{let L=!1;return r.value.maxDate&&J&&P(N,K)&&(L=!0),r.value.minDate&&!J&&u(N,K)&&(L=!0),L},b=(N,K,J,L)=>{let f=!1;return L?r.value.minDate&&r.value.maxDate?f=E(N,K,J):(r.value.minDate&&u(N,K)||r.value.maxDate&&P(N,K))&&(f=!0):f=!0,f},M=N=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!rt(N,r.value.allowedDates):!1,v=N=>!p(N),R=N=>o.value.noDisabledRange?!s.eachDayOfInterval({start:N[0],end:N[1]}).some(J=>v(J)):!0,U=N=>{if(N){const K=s.getYear(N);return K>=+t.yearRange[0]&&K<=t.yearRange[1]}return!0},$=(N,K)=>!!(Array.isArray(N)&&N[K]&&(o.value.maxRange||o.value.minRange)&&U(N[K])),V=(N,K,J=0)=>{if($(K,J)&&U(N)){const L=s.differenceInCalendarDays(N,K[J]),f=cn(K[J],N),B=f.length===1?0:f.filter(Q=>v(Q)).length,y=Math.abs(L)-(o.value.minMaxRawRange?0:B);if(o.value.minRange&&o.value.maxRange)return y>=+o.value.minRange&&y<=+o.value.maxRange;if(o.value.minRange)return y>=+o.value.minRange;if(o.value.maxRange)return y<=+o.value.maxRange}return!0},w=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,z=N=>Array.isArray(N)?[N[0]?Pt(N[0]):null,N[1]?Pt(N[1]):null]:Pt(N),Y=(N,K,J)=>N.find(L=>+L.hours===s.getHours(K)&&L.minutes==="*"?!0:+L.minutes===s.getMinutes(K)&&+L.hours===s.getHours(K))&&J,q=(N,K,J)=>{const[L,f]=N,[B,y]=K;return!Y(L,B,J)&&!Y(f,y,J)&&J},I=(N,K)=>{const J=Array.isArray(K)?K:[K];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?q(t.disabledTimes,J,N):!J.some(L=>Y(t.disabledTimes,L,N)):N},_=(N,K)=>{const J=Array.isArray(K)?[ze(K[0]),K[1]?ze(K[1]):void 0]:ze(K),L=!t.disabledTimes(J);return N&&L},j=(N,K)=>t.disabledTimes?Array.isArray(t.disabledTimes)?I(K,N):_(K,N):K,k=N=>{let K=!0;if(!N||w())return!0;const J=!r.value.minDate&&!r.value.maxDate?z(N):N;return(t.maxTime||r.value.maxDate)&&(K=pn(t.maxTime,r.value.maxDate,"max",he(J),K)),(t.minTime||r.value.minDate)&&(K=pn(t.minTime,r.value.minDate,"min",he(J),K)),j(N,K)},re=N=>{if(!t.monthPicker)return!0;let K=!0;const J=W(Be(N));if(r.value.minDate&&r.value.maxDate){const L=W(Be(r.value.minDate)),f=W(Be(r.value.maxDate));return ge(J,L)&&pe(J,f)||ue(J,L)||ue(J,f)}if(r.value.minDate){const L=W(Be(r.value.minDate));K=ge(J,L)||ue(J,L)}if(r.value.maxDate){const L=W(Be(r.value.maxDate));K=pe(J,L)||ue(J,L)}return K},ne=e.computed(()=>N=>!t.enableTimePicker||t.ignoreTimeValidation?!0:k(N)),te=e.computed(()=>N=>t.monthPicker?Array.isArray(N)&&(o.value.enabled||a.value.enabled)?!N.filter(J=>!re(J)).length:re(N):!0);return{isDisabled:v,validateDate:p,validateMonthYearInRange:b,isDateRangeAllowed:R,checkMinMaxRange:V,isValidTime:k,isTimeValid:ne,isMonthValid:te}},it=()=>{const t=e.computed(()=>(r,a)=>r==null?void 0:r.includes(a)),n=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===0:!0),o=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:n,showRightIcon:o}},ga=(t,n,o)=>{const r=e.ref(0),a=e.reactive({[Ke.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Ke.calendar]:!1,[Ke.header]:!1}),m=e.computed(()=>t.monthPicker||t.timePicker),p=M=>{var v;if((v=t.flow)!=null&&v.length){if(!M&&m.value)return b();a[M]=!0,Object.keys(a).filter(R=>!a[R]).length||b()}},u=()=>{var M;(M=t.flow)!=null&&M.length&&r.value!==-1&&(r.value+=1,n("flow-step",r.value),b())},P=()=>{r.value=-1},E=(M,v,...R)=>{var U,$;t.flow[r.value]===M&&o.value&&(($=(U=o.value)[v])==null||$.call(U,...R))},b=()=>{E(Pe.month,"toggleMonthPicker",!0),E(Pe.year,"toggleYearPicker",!0),E(Pe.calendar,"toggleTimePicker",!1,!0),E(Pe.time,"toggleTimePicker",!0,!0);const M=t.flow[r.value];(M===Pe.hours||M===Pe.minutes||M===Pe.seconds)&&E(M,"toggleTimePicker",!0,!0,M)};return{childMount:p,updateFlowStep:u,resetFlow:P,flowStep:r}},ut={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0}},Te={...ut,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})}},ya={key:1,class:"dp__input_wrap"},ha=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],ka={key:2,class:"dp__clear_icon"},ba=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...ut},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:n,emit:o}){const r=o,a=t,{defaultedTextInput:m,defaultedAriaLabels:p,defaultedInline:u,defaultedConfig:P,defaultedRange:E,defaultedMultiDates:b,getDefaultPattern:M,getDefaultStartTime:v}=me(a),{checkMinMaxRange:R}=Ie(a),U=e.ref(),$=e.ref(null),V=e.ref(!1),w=e.ref(!1),z=e.computed(()=>({dp__pointer:!a.disabled&&!a.readonly&&!m.value.enabled,dp__disabled:a.disabled,dp__input_readonly:!m.value.enabled,dp__input:!0,dp__input_icon_pad:!a.hideInputIcon,dp__input_valid:!!a.state,dp__input_invalid:a.state===!1,dp__input_focus:V.value||a.isMenuOpen,dp__input_reg:!m.value.enabled,[a.inputClassName]:!!a.inputClassName})),Y=()=>{r("set-input-date",null),a.clearable&&a.autoApply&&(r("set-empty-date"),U.value=null)},q=y=>{const Q=v();return zn(y,m.value.format??M(),Q??dn({},a.enableSeconds),a.inputValue,w.value,a.formatLocale)},I=y=>{const{rangeSeparator:Q}=m.value,[O,g]=y.split(`${Q}`);if(O){const H=q(O.trim()),F=g?q(g.trim()):null;if(s.isAfter(H,F))return;const c=H&&F?[H,F]:[H];R(F,c,0)&&(U.value=H?c:null)}},_=()=>{w.value=!0},j=y=>{if(E.value.enabled)I(y);else if(b.value.enabled){const Q=y.split(";");U.value=Q.map(O=>q(O.trim())).filter(O=>O)}else U.value=q(y)},k=y=>{var O;const Q=typeof y=="string"?y:(O=y.target)==null?void 0:O.value;Q!==""?(m.value.openMenu&&!a.isMenuOpen&&r("open"),j(Q),r("set-input-date",U.value)):Y(),w.value=!1,r("update:input-value",Q)},re=y=>{m.value.enabled?(j(y.target.value),m.value.enterSubmit&&$t(U.value)&&a.inputValue!==""?(r("set-input-date",U.value,!0),U.value=null):m.value.enterSubmit&&a.inputValue===""&&(U.value=null,r("clear"))):N(y)},ne=y=>{m.value.enabled&&m.value.tabSubmit&&j(y.target.value),m.value.tabSubmit&&$t(U.value)&&a.inputValue!==""?(r("set-input-date",U.value,!0,!0),U.value=null):m.value.tabSubmit&&a.inputValue===""&&(U.value=null,r("clear",!0))},te=()=>{V.value=!0,r("focus"),e.nextTick().then(()=>{var y;m.value.enabled&&m.value.selectOnFocus&&((y=$.value)==null||y.select())})},N=y=>{y.preventDefault(),Ee(y,P.value,!0),m.value.enabled&&m.value.openMenu&&!u.value.input&&!a.isMenuOpen?r("open"):m.value.enabled||r("toggle")},K=()=>{r("real-blur"),V.value=!1,(!a.isMenuOpen||u.value.enabled&&u.value.input)&&r("blur"),a.autoApply&&m.value.enabled&&U.value&&!a.isMenuOpen&&(r("set-input-date",U.value),r("select-date"),U.value=null)},J=y=>{Ee(y,P.value,!0),r("clear")},L=y=>{if(!m.value.enabled){if(y.code==="Tab")return;y.preventDefault()}};return n({focusInput:()=>{var y;(y=$.value)==null||y.focus({preventScroll:!0})},setParsedDate:y=>{U.value=y}}),(y,Q)=>{var O;return e.openBlock(),e.createElementBlock("div",{onClick:N},[y.$slots.trigger&&!y.$slots["dp-input"]&&!e.unref(u).enabled?e.renderSlot(y.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!y.$slots.trigger&&(!e.unref(u).enabled||e.unref(u).input)?(e.openBlock(),e.createElementBlock("div",ya,[y.$slots["dp-input"]&&!y.$slots.trigger&&(!e.unref(u).enabled||e.unref(u).enabled&&e.unref(u).input)?e.renderSlot(y.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:k,onEnter:re,onTab:ne,onClear:J,onBlur:K,onKeypress:L,onPaste:_,openMenu:()=>y.$emit("open"),closeMenu:()=>y.$emit("close"),toggleMenu:()=>y.$emit("toggle")}):e.createCommentVNode("",!0),y.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,id:y.uid?`dp-input-${y.uid}`:void 0,ref_key:"inputRef",ref:$,"data-test":"dp-input",name:y.name,class:e.normalizeClass(z.value),inputmode:e.unref(m).enabled?"text":"none",placeholder:y.placeholder,disabled:y.disabled,readonly:y.readonly,required:y.required,value:t.inputValue,autocomplete:y.autocomplete,"aria-label":(O=e.unref(p))==null?void 0:O.input,"aria-disabled":y.disabled||void 0,"aria-invalid":y.state===!1?!0:void 0,onInput:k,onKeydown:[e.withKeys(re,["enter"]),e.withKeys(ne,["tab"]),L],onBlur:K,onFocus:te,onKeypress:L,onPaste:_},null,42,ha)),e.createElementVNode("div",{onClick:Q[2]||(Q[2]=g=>r("toggle"))},[y.$slots["input-icon"]&&!y.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:Q[0]||(Q[0]=g=>r("toggle"))},[e.renderSlot(y.$slots,"input-icon")])):e.createCommentVNode("",!0),!y.$slots["input-icon"]&&!y.hideInputIcon&&!y.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(We),{key:1,class:"dp__input_icon dp__input_icons",onClick:Q[1]||(Q[1]=g=>r("toggle"))})):e.createCommentVNode("",!0)]),y.$slots["clear-icon"]&&t.inputValue&&y.clearable&&!y.disabled&&!y.readonly?(e.openBlock(),e.createElementBlock("span",ka,[e.renderSlot(y.$slots,"clear-icon",{clear:J})])):e.createCommentVNode("",!0),y.clearable&&!y.$slots["clear-icon"]&&t.inputValue&&!y.disabled&&!y.readonly?(e.openBlock(),e.createBlock(e.unref(Jt),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:Q[3]||(Q[3]=e.withModifiers(g=>J(g),["prevent"]))})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),wa=["title"],va=["disabled"],Ma=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Te},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:n}){const o=n,r=t,{defaultedActionRow:a,defaultedPreviewFormat:m,defaultedMultiCalendars:p,defaultedTextInput:u,defaultedInline:P,defaultedRange:E,defaultedMultiDates:b,getDefaultPattern:M}=me(r),{isTimeValid:v,isMonthValid:R}=Ie(r),{buildMatrix:U}=Ye(),$=e.ref(null),V=e.ref(null),w=e.ref(!1),z=e.ref({}),Y=e.ref(null),q=e.ref(null);e.onMounted(()=>{r.arrowNavigation&&U([ke($),ke(V)],"actionRow"),I(),window.addEventListener("resize",I)}),e.onUnmounted(()=>{window.removeEventListener("resize",I)});const I=()=>{w.value=!1,setTimeout(()=>{var B,y;const L=(B=Y.value)==null?void 0:B.getBoundingClientRect(),f=(y=q.value)==null?void 0:y.getBoundingClientRect();L&&f&&(z.value.maxWidth=`${f.width-L.width-20}px`),w.value=!0},0)},_=e.computed(()=>E.value.enabled&&!E.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),j=e.computed(()=>!v.value(r.internalModelValue)||!R.value(r.internalModelValue)||!_.value),k=()=>{const L=m.value;return r.timePicker||r.monthPicker,L(he(r.internalModelValue))},re=()=>{const L=r.internalModelValue;return p.value.count>0?`${ne(L[0])} - ${ne(L[1])}`:[ne(L[0]),ne(L[1])]},ne=L=>mn(L,m.value,r.formatLocale,u.value.rangeSeparator,r.modelAuto,M()),te=e.computed(()=>!r.internalModelValue||!r.menuMount?"":typeof m.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?re():b.value.enabled?r.internalModelValue.map(L=>`${ne(L)}`):r.modelAuto?`${ne(r.internalModelValue[0])}`:`${ne(r.internalModelValue[0])} -`:ne(r.internalModelValue):k()),N=()=>b.value.enabled?"; ":" - ",K=e.computed(()=>Array.isArray(te.value)?te.value.join(N()):te.value),J=()=>{v.value(r.internalModelValue)&&R.value(r.internalModelValue)&&_.value?o("select-date"):o("invalid-select")};return(L,f)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"actionRowRef",ref:q,class:"dp__action_row"},[L.$slots["action-row"]?e.renderSlot(L.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:L.internalModelValue,disabled:j.value,selectDate:()=>L.$emit("select-date"),closePicker:()=>L.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(a).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:K.value,style:e.normalizeStyle(z.value)},[L.$slots["action-preview"]&&w.value?e.renderSlot(L.$slots,"action-preview",{key:0,value:L.internalModelValue}):e.createCommentVNode("",!0),!L.$slots["action-preview"]&&w.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(K.value),1)],64)):e.createCommentVNode("",!0)],12,wa)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"actionBtnContainer",ref:Y,class:"dp__action_buttons","data-dp-element":"action-row"},[L.$slots["action-buttons"]?e.renderSlot(L.$slots,"action-buttons",{key:0,value:L.internalModelValue}):e.createCommentVNode("",!0),L.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(P).enabled&&e.unref(a).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:$,type:"button",class:"dp__action_button dp__action_cancel",onClick:f[0]||(f[0]=B=>L.$emit("close-picker")),onKeydown:[f[1]||(f[1]=e.withKeys(B=>L.$emit("close-picker"),["enter"])),f[2]||(f[2]=e.withKeys(B=>L.$emit("close-picker"),["space"]))]},e.toDisplayString(L.cancelText),545)):e.createCommentVNode("",!0),e.unref(a).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:f[3]||(f[3]=B=>L.$emit("select-now")),onKeydown:[f[4]||(f[4]=e.withKeys(B=>L.$emit("select-now"),["enter"])),f[5]||(f[5]=e.withKeys(B=>L.$emit("select-now"),["space"]))]},e.toDisplayString(L.nowButtonLabel),33)):e.createCommentVNode("",!0),e.unref(a).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"selectButtonRef",ref:V,type:"button",class:"dp__action_button dp__action_select",disabled:j.value,"data-test":"select-button",onKeydown:[e.withKeys(J,["enter"]),e.withKeys(J,["space"])],onClick:J},e.toDisplayString(L.selectText),41,va)):e.createCommentVNode("",!0)],64))],512)],64))],512))}}),Sa=["onKeydown"],Da={class:"dp__selection_grid_header"},Ca=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],Ba=["aria-label"],Ze=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:n,emit:o}){const{setSelectionGrid:r,buildMultiLevelMatrix:a,setMonthPicker:m}=Ye(),p=o,u=t,{defaultedAriaLabels:P,defaultedTextInput:E,defaultedConfig:b}=me(u),{hideNavigationButtons:M}=it(),v=e.ref(!1),R=e.ref(null),U=e.ref(null),$=e.ref([]),V=e.ref(),w=e.ref(null),z=e.ref(0),Y=e.ref(null);e.onBeforeUpdate(()=>{R.value=null}),e.onMounted(()=>{e.nextTick().then(()=>te()),u.noOverlayFocus||I(),q(!0)}),e.onUnmounted(()=>q(!1));const q=O=>{var g;u.arrowNavigation&&((g=u.headerRefs)!=null&&g.length?m(O):r(O))},I=()=>{var g;const O=ke(U);O&&(E.value.enabled||(R.value?(g=R.value)==null||g.focus({preventScroll:!0}):O.focus({preventScroll:!0})),v.value=O.clientHeight<O.scrollHeight)},_=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!u.useRelative,"dp--overlay-relative":u.useRelative})),j=e.computed(()=>u.useRelative?{height:`${u.height}px`,width:"260px"}:void 0),k=e.computed(()=>({dp__overlay_col:!0})),re=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:v.value,dp__button_bottom:u.isLast})),ne=e.computed(()=>{var O,g;return{dp__overlay_container:!0,dp__container_flex:((O=u.items)==null?void 0:O.length)<=6,dp__container_block:((g=u.items)==null?void 0:g.length)>6}});e.watch(()=>u.items,()=>te(!1),{deep:!0});const te=(O=!0)=>{e.nextTick().then(()=>{const g=ke(R),H=ke(U),F=ke(w),c=ke(Y),S=F?F.getBoundingClientRect().height:0;H&&(H.getBoundingClientRect().height?z.value=H.getBoundingClientRect().height-S:z.value=b.value.modeHeight-S),g&&c&&O&&(c.scrollTop=g.offsetTop-c.offsetTop-(z.value/2-g.getBoundingClientRect().height)-S)})},N=O=>{O.disabled||p("selected",O.value)},K=()=>{p("toggle"),p("reset-flow")},J=()=>{u.escClose&&K()},L=(O,g,H,F)=>{O&&((g.active||g.value===u.focusValue)&&(R.value=O),u.arrowNavigation&&(Array.isArray($.value[H])?$.value[H][F]=O:$.value[H]=[O],f()))},f=()=>{var g,H;const O=(g=u.headerRefs)!=null&&g.length?[u.headerRefs].concat($.value):$.value.concat([u.skipButtonRef?[]:[w.value]]);a(he(O),(H=u.headerRefs)!=null&&H.length?"monthPicker":"selectionGrid")},B=O=>{u.arrowNavigation||Ee(O,b.value,!0)},y=O=>{V.value=O,p("hover-value",O)},Q=()=>{if(K(),!u.isLast){const O=On(u.menuWrapRef??null,"action-row");if(O){const g=rn(O);g==null||g.focus()}}};return n({focusGrid:I}),(O,g)=>{var H;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:U,class:e.normalizeClass(_.value),style:e.normalizeStyle(j.value),role:"dialog",tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(J,["prevent"]),["esc"]),g[0]||(g[0]=e.withKeys(e.withModifiers(F=>B(F),["prevent"]),["left"])),g[1]||(g[1]=e.withKeys(e.withModifiers(F=>B(F),["prevent"]),["up"])),g[2]||(g[2]=e.withKeys(e.withModifiers(F=>B(F),["prevent"]),["down"])),g[3]||(g[3]=e.withKeys(e.withModifiers(F=>B(F),["prevent"]),["right"]))]},[e.createElementVNode("div",{ref_key:"containerRef",ref:Y,class:e.normalizeClass(ne.value),role:"grid",style:e.normalizeStyle({"--dp-overlay-height":`${z.value}px`})},[e.createElementVNode("div",Da,[e.renderSlot(O.$slots,"header")]),O.$slots.overlay?e.renderSlot(O.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(O.items,(F,c)=>(e.openBlock(),e.createElementBlock("div",{key:c,class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:O.items.length>=3}]),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(F,(S,A)=>(e.openBlock(),e.createElementBlock("div",{key:S.value,ref_for:!0,ref:le=>L(le,S,c,A),role:"gridcell",class:e.normalizeClass(k.value),"aria-selected":S.active||void 0,"aria-disabled":S.disabled||void 0,tabindex:"0","data-test":S.text,onClick:le=>N(S),onKeydown:[e.withKeys(e.withModifiers(le=>N(S),["prevent"]),["enter"]),e.withKeys(e.withModifiers(le=>N(S),["prevent"]),["space"])],onMouseover:le=>y(S.value)},[e.createElementVNode("div",{class:e.normalizeClass(S.className)},[O.$slots.item?e.renderSlot(O.$slots,"item",{key:0,item:S}):e.createCommentVNode("",!0),O.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(S.text),1)],64))],2)],42,Ca))),128))],2))),128))],6),O.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"toggleButton",ref:w,type:"button","aria-label":(H=e.unref(P))==null?void 0:H.toggleOverlay,class:e.normalizeClass(re.value),tabindex:"0",onClick:K,onKeydown:[e.withKeys(K,["enter"]),e.withKeys(Q,["tab"])]},[e.renderSlot(O.$slots,"button-icon")],42,Ba)),[[e.vShow,!e.unref(M)(O.hideNavigation,O.type)]]):e.createCommentVNode("",!0)],46,Sa)}}}),ct=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const n=t,o=e.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),r=e.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(a,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!a.stretch,"dp--menu--inner-stretched":a.stretch,dp__flex_display:a.multiCalendars>0,"dp--flex-display-collapsed":a.collapse})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,(p,u)=>(e.openBlock(),e.createElementBlock("div",{key:p,class:e.normalizeClass(r.value)},[e.renderSlot(a.$slots,"default",{instance:p,index:u})],2))),128))],2))}}),$a=["aria-label","aria-disabled"],Fe=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:n}){const o=n,r=e.ref(null);return e.onMounted(()=>o("set-ref",r)),(a,m)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":a.ariaLabel,"aria-disabled":a.disabled||void 0,onClick:m[0]||(m[0]=p=>a.$emit("activate")),onKeydown:[m[1]||(m[1]=e.withKeys(e.withModifiers(p=>a.$emit("activate"),["prevent"]),["enter"])),m[2]||(m[2]=e.withKeys(e.withModifiers(p=>a.$emit("activate"),["prevent"]),["space"]))]},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:a.disabled}])},[e.renderSlot(a.$slots,"default")],2)],40,$a))}}),Ta={class:"dp--year-mode-picker"},Aa=["aria-label","data-test"],bn=e.defineComponent({__name:"YearModePicker",props:{...Te,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:n}){const o=n,r=t,{showRightIcon:a,showLeftIcon:m}=it(),{defaultedConfig:p,defaultedMultiCalendars:u,defaultedAriaLabels:P,defaultedTransitions:E}=me(r),{showTransition:b,transitionName:M}=Xe(E),v=($=!1,V)=>{o("toggle-year-picker",{flow:$,show:V})},R=$=>{o("year-select",$)},U=($=!1)=>{o("handle-year",$)};return($,V)=>{var w,z,Y;return e.openBlock(),e.createElementBlock("div",Ta,[e.unref(m)(e.unref(u),t.instance)?(e.openBlock(),e.createBlock(Fe,{key:0,ref:"mpPrevIconRef","aria-label":(w=e.unref(P))==null?void 0:w.prevYear,disabled:t.isDisabled(!1),onActivate:V[0]||(V[0]=q=>U(!1))},{default:e.withCtx(()=>[$.$slots["arrow-left"]?e.renderSlot($.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),$.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(yt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(z=e.unref(P))==null?void 0:z.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:V[1]||(V[1]=()=>v(!1)),onKeydown:V[2]||(V[2]=e.withKeys(()=>v(!1),["enter"]))},[$.$slots.year?e.renderSlot($.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),$.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Aa),e.unref(a)(e.unref(u),t.instance)?(e.openBlock(),e.createBlock(Fe,{key:1,ref:"mpNextIconRef","aria-label":(Y=e.unref(P))==null?void 0:Y.nextYear,disabled:t.isDisabled(!0),onActivate:V[3]||(V[3]=q=>U(!0))},{default:e.withCtx(()=>[$.$slots["arrow-right"]?e.renderSlot($.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),$.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ht),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(M)(t.showYearPicker),css:e.unref(b)},{default:e.withCtx(()=>[t.showYearPicker?(e.openBlock(),e.createBlock(Ze,{key:0,items:t.items,"text-input":$.textInput,"esc-close":$.escClose,config:$.config,"is-last":$.autoApply&&!e.unref(p).keepActionRow,"hide-navigation":$.hideNavigation,"aria-labels":$.ariaLabels,type:"year",onToggle:v,onSelected:V[4]||(V[4]=q=>R(q))},e.createSlots({"button-icon":e.withCtx(()=>[$.$slots["calendar-icon"]?e.renderSlot($.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),$.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(We),{key:1}))]),_:2},[$.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:q})=>[e.renderSlot($.$slots,"year-overlay-value",{text:q.text,value:q.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])])}}}),Ot=(t,n,o)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(r=>ue(t,r))){const r=n.value.filter(a=>!ue(a,t));n.value=r.length?r:null}else(o&&+o>n.value.length||!o)&&n.value.push(t);else n.value=[t]},It=(t,n,o)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?pe(n,r[0])?(r.unshift(n),o("range-start",r[0]),o("range-start",r[1])):(r[1]=n,o("range-end",n)):(r=[n],o("range-start",n)),r},dt=(t,n,o,r)=>{t&&(t[0]&&t[1]&&o&&n("auto-apply"),t[0]&&!t[1]&&r&&o&&n("auto-apply"))},wn=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(n=>Ae(W(n),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Ae(W(t.value),t.timezone))},vn=(t,n,o,r)=>Array.isArray(n.value)&&(n.value.length===2||n.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(ge(t,n.value[0])||ue(t,n.value[0]))?[n.value[0],t]:r.value.fixedEnd&&(pe(t,n.value[1])||ue(t,n.value[1]))?[t,n.value[1]]:(o("invalid-fixed-range",t),n.value):[],Mn=({multiCalendars:t,highlight:n,propDates:o,calendars:r,modelValue:a,props:m,filters:p,year:u,month:P,emit:E})=>{const b=e.computed(()=>Mt(m.yearRange,m.locale,m.reverseYears)),M=e.ref([!1]),v=e.computed(()=>(_,j)=>{const k=s.set(Be(new Date),{month:P.value(_),year:u.value(_)});return fn(k,o.value.maxDate,o.value.minDate,m.preventMinMaxNavigation,j)}),R=()=>{for(let _=0;_<t.value.count;_++)if(_===0)r.value[_]=r.value[0];else{const j=s.set(W(),r.value[_-1]);r.value[_]={month:s.getMonth(j),year:s.getYear(s.addYears(j,1))}}},U=_=>{if(!_)return R();const j=s.set(W(),r.value[_]);return r.value[0].year=s.getYear(s.subYears(j,t.value.count-1)),R()},$=_=>m.focusStartDate?_[0]:_[1]?_[1]:_[0],V=()=>{if(a.value){const _=Array.isArray(a.value)?$(a.value):a.value;r.value[0]={month:s.getMonth(_),year:s.getYear(_)}}};e.onMounted(()=>{V(),t.value.count&&R()});const w=(_,j)=>{r.value[j].year=_,E("update-month-year",{instance:j,year:_,month:r.value[j].month}),t.value.count&&!t.value.solo&&U(j)},z=e.computed(()=>_=>Ue(b.value,j=>{var te;const k=u.value(_)===j.value,re=Qe(j.value,je(o.value.minDate),je(o.value.maxDate))||((te=p.value.years)==null?void 0:te.includes(u.value(_))),ne=Rt(n.value,j.value);return{active:k,disabled:re,highlighted:ne}})),Y=(_,j)=>{w(_,j),I(j)},q=(_,j=!1)=>{if(!v.value(_,j)){const k=j?u.value(_)+1:u.value(_)-1;w(k,_)}},I=(_,j=!1,k)=>{j||E("reset-flow"),k!==void 0?M.value[_]=k:M.value[_]=!M.value[_],M.value||E("overlay-closed")};return{isDisabled:v,groupedYears:z,showYearPicker:M,selectYear:w,toggleYearPicker:I,handleYearSelect:Y,handleYear:q}},Pa=(t,n)=>{const{defaultedMultiCalendars:o,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:m,defaultedRange:p,defaultedHighlight:u,propDates:P,defaultedTz:E,defaultedFilters:b,defaultedMultiDates:M}=me(t),{modelValue:v,year:R,month:U,calendars:$}=Je(t,n),V=e.computed(()=>en(t.formatLocale,t.locale,t.monthNameFormat)),w=e.ref(null),{checkMinMaxRange:z}=Ie(t),{selectYear:Y,groupedYears:q,showYearPicker:I,toggleYearPicker:_,handleYearSelect:j,handleYear:k,isDisabled:re}=Mn({modelValue:v,multiCalendars:o,highlight:u,calendars:$,year:R,propDates:P,month:U,filters:b,props:t,emit:n});e.onMounted(()=>{t.startDate&&(v.value&&t.focusStartDate||!v.value)&&Y(s.getYear(W(t.startDate)),0)});const ne=S=>S?{month:s.getMonth(S),year:s.getYear(S)}:{month:null,year:null},te=()=>v.value?Array.isArray(v.value)?v.value.map(S=>ne(S)):ne(v.value):ne(),N=(S,A)=>{const le=$.value[S],d=te();return Array.isArray(d)?d.some(ee=>ee.year===(le==null?void 0:le.year)&&ee.month===A):(le==null?void 0:le.year)===d.year&&A===d.month},K=(S,A,le)=>{var ee,l;const d=te();return Array.isArray(d)?R.value(A)===((ee=d[le])==null?void 0:ee.year)&&S===((l=d[le])==null?void 0:l.month):!1},J=(S,A)=>{if(p.value.enabled){const le=te();if(Array.isArray(v.value)&&Array.isArray(le)){const d=K(S,A,0)||K(S,A,1),ee=Ne(Be(W()),S,R.value(A));return lt(v.value,w.value,ee)&&!d}return!1}return!1},L=e.computed(()=>S=>Ue(V.value,A=>{var T;const le=N(S,A.value),d=Qe(A.value,sn(R.value(S),P.value.minDate),un(R.value(S),P.value.maxDate))||jn(P.value.disabledDates,R.value(S)).includes(A.value)||((T=b.value.months)==null?void 0:T.includes(A.value)),ee=J(A.value,S),l=gn(u.value,A.value,R.value(S));return{active:le,disabled:d,isBetween:ee,highlighted:l}})),f=(S,A)=>Ne(Be(W()),S,R.value(A)),B=(S,A)=>{const le=v.value?v.value:Be(new Date);v.value=Ne(le,S,R.value(A)),n("auto-apply"),n("update-flow-step")},y=(S,A)=>{const le=f(S,A);p.value.fixedEnd||p.value.fixedStart?v.value=vn(le,v,n,p):v.value?z(le,v.value)&&(v.value=It(v,f(S,A),n)):v.value=[f(S,A)],e.nextTick().then(()=>{dt(v.value,n,t.autoApply,t.modelAuto)})},Q=(S,A)=>{Ot(f(S,A),v,M.value.limit),n("auto-apply",!0)},O=(S,A)=>($.value[A].month=S,H(A,$.value[A].year,S),M.value.enabled?Q(S,A):p.value.enabled?y(S,A):B(S,A)),g=(S,A)=>{Y(S,A),H(A,S,null)},H=(S,A,le)=>{let d=le;if(!d&&d!==0){const ee=te();d=Array.isArray(ee)?ee[S].month:ee.month}n("update-month-year",{instance:S,year:A,month:d})};return{groupedMonths:L,groupedYears:q,year:R,isDisabled:re,defaultedMultiCalendars:o,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:m,showYearPicker:I,modelValue:v,presetDate:(S,A)=>{wn({value:S,modelValue:v,range:p.value.enabled,timezone:A?void 0:E.value.timezone}),n("auto-apply")},setHoverDate:(S,A)=>{w.value=f(S,A)},selectMonth:O,selectYear:g,toggleYearPicker:_,handleYearSelect:j,handleYear:k,getModelMonthYear:te}},Ra=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Te},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range"],setup(t,{expose:n,emit:o}){const r=o,a=e.useSlots(),m=Me(a,"yearMode"),p=t;e.onMounted(()=>{p.shadow||r("mount",null)});const{groupedMonths:u,groupedYears:P,year:E,isDisabled:b,defaultedMultiCalendars:M,defaultedConfig:v,showYearPicker:R,modelValue:U,presetDate:$,setHoverDate:V,selectMonth:w,selectYear:z,toggleYearPicker:Y,handleYearSelect:q,handleYear:I,getModelMonthYear:_}=Pa(p,r);return n({getSidebarProps:()=>({modelValue:U,year:E,getModelMonthYear:_,selectMonth:w,selectYear:z,handleYear:I}),presetDate:$,toggleYearPicker:k=>Y(0,k)}),(k,re)=>(e.openBlock(),e.createBlock(ct,{"multi-calendars":e.unref(M).count,collapse:k.collapse,stretch:""},{default:e.withCtx(({instance:ne})=>[k.$slots["top-extra"]?e.renderSlot(k.$slots,"top-extra",{key:0,value:k.internalModelValue}):e.createCommentVNode("",!0),k.$slots["month-year"]?e.renderSlot(k.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{year:e.unref(E),months:e.unref(u)(ne),years:e.unref(P)(ne),selectMonth:e.unref(w),selectYear:e.unref(z),instance:ne}))):(e.openBlock(),e.createBlock(Ze,{key:2,items:e.unref(u)(ne),"arrow-navigation":k.arrowNavigation,"is-last":k.autoApply&&!e.unref(v).keepActionRow,"esc-close":k.escClose,height:e.unref(v).modeHeight,config:k.config,"no-overlay-focus":!!(k.noOverlayFocus||k.textInput),"use-relative":"",type:"month",onSelected:te=>e.unref(w)(te,ne),onHoverValue:te=>e.unref(V)(te,ne)},e.createSlots({header:e.withCtx(()=>[e.createVNode(bn,e.mergeProps(k.$props,{items:e.unref(P)(ne),instance:ne,"show-year-picker":e.unref(R)[ne],year:e.unref(E)(ne),"is-disabled":te=>e.unref(b)(ne,te),onHandleYear:te=>e.unref(I)(ne,te),onYearSelect:te=>e.unref(q)(te,ne),onToggleYearPicker:te=>e.unref(Y)(ne,te==null?void 0:te.flow,te==null?void 0:te.show)}),e.createSlots({_:2},[e.renderList(e.unref(m),(te,N)=>({name:te,fn:e.withCtx(K=>[e.renderSlot(k.$slots,te,e.normalizeProps(e.guardReactiveProps(K)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[k.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:te})=>[e.renderSlot(k.$slots,"month-overlay-value",{text:te.text,value:te.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),Na=(t,n)=>{const{modelValue:o}=Je(t,n),r=e.ref(null),{defaultedHighlight:a,defaultedMultiDates:m,defaultedFilters:p,defaultedRange:u,propDates:P}=me(t),E=e.ref();e.onMounted(()=>{t.startDate&&(o.value&&t.focusStartDate||!o.value)&&(E.value=s.getYear(W(t.startDate)))});const b=V=>Array.isArray(o.value)?o.value.some(w=>s.getYear(w)===V):o.value?s.getYear(o.value)===V:!1,M=V=>u.value.enabled&&Array.isArray(o.value)?lt(o.value,r.value,R(V)):!1,v=e.computed(()=>Ue(Mt(t.yearRange,t.locale,t.reverseYears),V=>{const w=b(V.value),z=Qe(V.value,je(P.value.minDate),je(P.value.maxDate))||p.value.years.includes(V.value),Y=M(V.value)&&!w,q=Rt(a.value,V.value);return{active:w,disabled:z,isBetween:Y,highlighted:q}})),R=V=>s.setYear(Be(new Date),V);return{groupedYears:v,modelValue:o,focusYear:E,setHoverValue:V=>{r.value=s.setYear(Be(new Date),V)},selectYear:V=>{var w;if(n("update-month-year",{instance:0,year:V}),m.value.enabled)return o.value?Array.isArray(o.value)&&(((w=o.value)==null?void 0:w.map(Y=>s.getYear(Y))).includes(V)?o.value=o.value.filter(Y=>s.getYear(Y)!==V):o.value.push(s.setYear(ve(W()),V))):o.value=[s.setYear(ve(W()),V)],n("auto-apply",!0);u.value.enabled?(o.value=It(o,R(V),n),e.nextTick().then(()=>{dt(o.value,n,t.autoApply,t.modelAuto)})):(o.value=R(V),n("auto-apply"))}}},Ea=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Te},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:n,emit:o}){const r=o,a=t,{groupedYears:m,modelValue:p,focusYear:u,selectYear:P,setHoverValue:E}=Na(a,r),{defaultedConfig:b}=me(a);return n({getSidebarProps:()=>({modelValue:p,selectYear:P})}),(v,R)=>(e.openBlock(),e.createElementBlock("div",null,[v.$slots["top-extra"]?e.renderSlot(v.$slots,"top-extra",{key:0,value:v.internalModelValue}):e.createCommentVNode("",!0),v.$slots["month-year"]?e.renderSlot(v.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{years:e.unref(m),selectYear:e.unref(P)}))):(e.openBlock(),e.createBlock(Ze,{key:2,items:e.unref(m),"is-last":v.autoApply&&!e.unref(b).keepActionRow,height:e.unref(b).modeHeight,config:v.config,"no-overlay-focus":!!(v.noOverlayFocus||v.textInput),"focus-value":e.unref(u),type:"year","use-relative":"",onSelected:e.unref(P),onHoverValue:e.unref(E)},e.createSlots({_:2},[v.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:U})=>[e.renderSlot(v.$slots,"year-overlay-value",{text:U.text,value:U.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),_a={key:0,class:"dp__time_input"},Va=["data-test","aria-label","onKeydown","onClick"],Ya=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Oa=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Ia=["aria-label","disabled","data-test","onKeydown","onClick"],za=["data-test","aria-label","onKeydown","onClick"],La=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Ka=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Ha={key:0},Wa=["aria-label","onKeydown"],Ua=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Te},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:o}){const r=o,a=t,{setTimePickerElements:m,setTimePickerBackRef:p}=Ye(),{defaultedAriaLabels:u,defaultedTransitions:P,defaultedFilters:E,defaultedConfig:b,defaultedRange:M}=me(a),{transitionName:v,showTransition:R}=Xe(P),U=e.reactive({hours:!1,minutes:!1,seconds:!1}),$=e.ref("AM"),V=e.ref(null),w=e.ref([]);e.onMounted(()=>{r("mounted")});const z=l=>s.set(new Date,{hours:l.hours,minutes:l.minutes,seconds:a.enableSeconds?l.seconds:0,milliseconds:0}),Y=e.computed(()=>l=>L(l,a[l])||I(l,a[l])),q=e.computed(()=>({hours:a.hours,minutes:a.minutes,seconds:a.seconds})),I=(l,T)=>M.value.enabled&&!M.value.disableTimeRangeValidation?!a.validateTime(l,T):!1,_=(l,T)=>{if(M.value.enabled&&!M.value.disableTimeRangeValidation){const X=T?+a[`${l}Increment`]:-+a[`${l}Increment`],G=a[l]+X;return!a.validateTime(l,G)}return!1},j=e.computed(()=>l=>!O(+a[l]+ +a[`${l}Increment`],l)||_(l,!0)),k=e.computed(()=>l=>!O(+a[l]-+a[`${l}Increment`],l)||_(l,!1)),re=(l,T)=>s.add(s.set(W(),l),T),ne=(l,T)=>s.sub(s.set(W(),l),T),te=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!a.timePickerInline,dp__time_col_reg_block:!a.enableSeconds&&a.is24&&!a.timePickerInline,dp__time_col_reg_inline:!a.enableSeconds&&a.is24&&a.timePickerInline,dp__time_col_reg_with_button:!a.enableSeconds&&!a.is24,dp__time_col_sec:a.enableSeconds&&a.is24,dp__time_col_sec_with_button:a.enableSeconds&&!a.is24})),N=e.computed(()=>{const l=[{type:"hours"}];return a.enableMinutes&&l.push({type:"",separator:!0},{type:"minutes"}),a.enableSeconds&&l.push({type:"",separator:!0},{type:"seconds"}),l}),K=e.computed(()=>N.value.filter(l=>!l.separator)),J=e.computed(()=>l=>{if(l==="hours"){const T=S(+a.hours);return{text:T<10?`0${T}`:`${T}`,value:T}}return{text:a[l]<10?`0${a[l]}`:`${a[l]}`,value:a[l]}}),L=(l,T)=>{var G;if(!a.disabledTimesConfig)return!1;const X=a.disabledTimesConfig(a.order,l==="hours"?T:void 0);return X[l]?!!((G=X[l])!=null&&G.includes(T)):!0},f=(l,T)=>T!=="hours"||$.value==="AM"?l:l+12,B=l=>{const T=a.is24?24:12,X=l==="hours"?T:60,G=+a[`${l}GridIncrement`],Z=l==="hours"&&!a.is24?G:0,h=[];for(let C=Z;C<X;C+=G)h.push({value:a.is24?C:f(C,l),text:C<10?`0${C}`:`${C}`});return l==="hours"&&!a.is24&&h.push({value:0,text:"12"}),Ue(h,C=>({active:!1,disabled:E.value.times[l].includes(C.value)||!O(C.value,l)||L(l,C.value)||I(l,C.value)}))},y=l=>l>=0?l:59,Q=l=>l>=0?l:23,O=(l,T)=>{const X=a.minTime?z(Bt(a.minTime)):null,G=a.maxTime?z(Bt(a.maxTime)):null,Z=z(Bt(q.value,T,T==="minutes"||T==="seconds"?y(l):Q(l)));return X&&G?(s.isBefore(Z,G)||s.isEqual(Z,G))&&(s.isAfter(Z,X)||s.isEqual(Z,X)):X?s.isAfter(Z,X)||s.isEqual(Z,X):G?s.isBefore(Z,G)||s.isEqual(Z,G):!0},g=l=>a[`no${l[0].toUpperCase()+l.slice(1)}Overlay`],H=l=>{g(l)||(U[l]=!U[l],U[l]||r("overlay-closed"))},F=l=>l==="hours"?s.getHours:l==="minutes"?s.getMinutes:s.getSeconds,c=(l,T=!0)=>{const X=T?re:ne,G=T?+a[`${l}Increment`]:-+a[`${l}Increment`];O(+a[l]+G,l)&&r(`update:${l}`,F(l)(X({[l]:+a[l]},{[l]:+a[`${l}Increment`]})))},S=l=>a.is24?l:(l>=12?$.value="PM":$.value="AM",Nn(l)),A=()=>{$.value==="PM"?($.value="AM",r("update:hours",a.hours-12)):($.value="PM",r("update:hours",a.hours+12)),r("am-pm-change",$.value)},le=l=>{U[l]=!0},d=(l,T,X)=>{if(l&&a.arrowNavigation){Array.isArray(w.value[T])?w.value[T][X]=l:w.value[T]=[l];const G=w.value.reduce((Z,h)=>h.map((C,ie)=>[...Z[ie]||[],h[ie]]),[]);p(a.closeTimePickerBtn),V.value&&(G[1]=G[1].concat(V.value)),m(G,a.order)}},ee=(l,T)=>(H(l),r(`update:${l}`,T));return n({openChildCmp:le}),(l,T)=>{var X;return l.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",_a,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(N.value,(G,Z)=>{var h,C,ie;return e.openBlock(),e.createElementBlock("div",{key:Z,class:e.normalizeClass(te.value)},[G.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{ref_for:!0,ref:se=>d(se,Z,0),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!l.timePickerInline,dp__inc_dec_button_inline:l.timePickerInline,dp__tp_inline_btn_top:l.timePickerInline,dp__inc_dec_button_disabled:j.value(G.type)}),"data-test":`${G.type}-time-inc-btn-${a.order}`,"aria-label":(h=e.unref(u))==null?void 0:h.incrementValue(G.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(se=>c(G.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(se=>c(G.type),["prevent"]),["space"])],onClick:se=>c(G.type)},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Ya,Oa],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[l.$slots["arrow-up"]?e.renderSlot(l.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),l.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(bt),{key:1}))],64))],42,Va),e.createElementVNode("button",{ref_for:!0,ref:se=>d(se,Z,1),type:"button","aria-label":(C=e.unref(u))==null?void 0:C.openTpOverlay(G.type),class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!l.timePickerInline,dp__time_display_inline:l.timePickerInline,"dp--time-invalid":Y.value(G.type),"dp--time-overlay-btn":!Y.value(G.type)}),disabled:g(G.type),tabindex:"0","data-test":`${G.type}-toggle-overlay-btn-${a.order}`,onKeydown:[e.withKeys(e.withModifiers(se=>H(G.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(se=>H(G.type),["prevent"]),["space"])],onClick:se=>H(G.type)},[l.$slots[G.type]?e.renderSlot(l.$slots,G.type,{key:0,text:J.value(G.type).text,value:J.value(G.type).value}):e.createCommentVNode("",!0),l.$slots[G.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(J.value(G.type).text),1)],64))],42,Ia),e.createElementVNode("button",{ref_for:!0,ref:se=>d(se,Z,2),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!l.timePickerInline,dp__inc_dec_button_inline:l.timePickerInline,dp__tp_inline_btn_bottom:l.timePickerInline,dp__inc_dec_button_disabled:k.value(G.type)}),"data-test":`${G.type}-time-dec-btn-${a.order}`,"aria-label":(ie=e.unref(u))==null?void 0:ie.decrementValue(G.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(se=>c(G.type,!1),["prevent"]),["enter"]),e.withKeys(e.withModifiers(se=>c(G.type,!1),["prevent"]),["space"])],onClick:se=>c(G.type,!1)},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[La,Ka],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[l.$slots["arrow-down"]?e.renderSlot(l.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),l.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))],64))],42,za)],64))],2)}),128)),l.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ha,[l.$slots["am-pm-button"]?e.renderSlot(l.$slots,"am-pm-button",{key:0,toggle:A,value:$.value}):e.createCommentVNode("",!0),l.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:V,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(X=e.unref(u))==null?void 0:X.amPmButton,tabindex:"0",onClick:A,onKeydown:[e.withKeys(e.withModifiers(A,["prevent"]),["enter"]),e.withKeys(e.withModifiers(A,["prevent"]),["space"])]},e.toDisplayString($.value),41,Wa))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(K.value,(G,Z)=>(e.openBlock(),e.createBlock(e.Transition,{key:Z,name:e.unref(v)(U[G.type]),css:e.unref(R)},{default:e.withCtx(()=>[U[G.type]?(e.openBlock(),e.createBlock(Ze,{key:0,items:B(G.type),"is-last":l.autoApply&&!e.unref(b).keepActionRow,"esc-close":l.escClose,type:G.type,"text-input":l.textInput,config:l.config,"arrow-navigation":l.arrowNavigation,"aria-labels":l.ariaLabels,onSelected:h=>ee(G.type,h),onToggle:h=>H(G.type),onResetFlow:T[0]||(T[0]=h=>l.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[l.$slots["clock-icon"]?e.renderSlot(l.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),l.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l.timePickerInline?e.unref(We):e.unref(kt)),{key:1}))]),_:2},[l.$slots[`${G.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:h})=>[e.renderSlot(l.$slots,`${G.type}-overlay-value`,{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),ja={class:"dp--tp-wrap"},xa=["aria-label","tabindex"],qa=["tabindex"],Qa=["aria-label"],Sn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Te},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:o}){const r=o,a=t,{buildMatrix:m,setTimePicker:p}=Ye(),u=e.useSlots(),{defaultedTransitions:P,defaultedAriaLabels:E,defaultedTextInput:b,defaultedConfig:M,defaultedRange:v}=me(a),{transitionName:R,showTransition:U}=Xe(P),{hideNavigationButtons:$}=it(),V=e.ref(null),w=e.ref(null),z=e.ref([]),Y=e.ref(null);e.onMounted(()=>{r("mount"),!a.timePicker&&a.arrowNavigation?m([ke(V.value)],"time"):p(!0,a.timePicker)});const q=e.computed(()=>v.value.enabled&&a.modelAuto?tn(a.internalModelValue):!0),I=e.ref(!1),_=f=>({hours:Array.isArray(a.hours)?a.hours[f]:a.hours,minutes:Array.isArray(a.minutes)?a.minutes[f]:a.minutes,seconds:Array.isArray(a.seconds)?a.seconds[f]:a.seconds}),j=e.computed(()=>{const f=[];if(v.value.enabled)for(let B=0;B<2;B++)f.push(_(B));else f.push(_(0));return f}),k=(f,B=!1,y="")=>{B||r("reset-flow"),I.value=f,r(f?"overlay-opened":"overlay-closed"),a.arrowNavigation&&p(f),e.nextTick(()=>{y!==""&&z.value[0]&&z.value[0].openChildCmp(y)})},re=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:a.autoApply&&!M.value.keepActionRow})),ne=Me(u,"timePicker"),te=(f,B,y)=>v.value.enabled?B===0?[f,j.value[1][y]]:[j.value[0][y],f]:f,N=f=>{r("update:hours",f)},K=f=>{r("update:minutes",f)},J=f=>{r("update:seconds",f)},L=()=>{if(Y.value&&!b.value.enabled&&!a.noOverlayFocus){const f=rn(Y.value);f&&f.focus({preventScroll:!0})}};return n({toggleTimePicker:k}),(f,B)=>{var y;return e.openBlock(),e.createElementBlock("div",ja,[!f.timePicker&&!f.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"openTimePickerBtn",ref:V,type:"button",class:e.normalizeClass(re.value),"aria-label":(y=e.unref(E))==null?void 0:y.openTimePicker,tabindex:f.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:[B[0]||(B[0]=e.withKeys(Q=>k(!0),["enter"])),B[1]||(B[1]=e.withKeys(Q=>k(!0),["space"]))],onClick:B[2]||(B[2]=Q=>k(!0))},[f.$slots["clock-icon"]?e.renderSlot(f.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),f.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(kt),{key:1}))],42,xa)),[[e.vShow,!e.unref($)(f.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(R)(I.value),css:e.unref(U)&&!f.timePickerInline},{default:e.withCtx(()=>{var Q;return[I.value||f.timePicker||f.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overlayRef",ref:Y,class:e.normalizeClass({dp__overlay:!f.timePickerInline,"dp--overlay-absolute":!a.timePicker&&!f.timePickerInline,"dp--overlay-relative":a.timePicker}),style:e.normalizeStyle(f.timePicker?{height:`${e.unref(M).modeHeight}px`}:void 0),tabindex:f.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(f.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[f.$slots["time-picker-overlay"]?e.renderSlot(f.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:N,setMinutes:K,setSeconds:J}):e.createCommentVNode("",!0),f.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(f.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(j.value,(O,g)=>e.withDirectives((e.openBlock(),e.createBlock(Ua,e.mergeProps({key:g,ref_for:!0},{...f.$props,order:g,hours:O.hours,minutes:O.minutes,seconds:O.seconds,closeTimePickerBtn:w.value,disabledTimesConfig:t.disabledTimesConfig,disabled:g===0?f.fixedStart:f.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:z,"validate-time":(H,F)=>t.validateTime(H,te(F,g,H)),"onUpdate:hours":H=>N(te(H,g,"hours")),"onUpdate:minutes":H=>K(te(H,g,"minutes")),"onUpdate:seconds":H=>J(te(H,g,"seconds")),onMounted:L,onOverlayClosed:L,onAmPmChange:B[3]||(B[3]=H=>f.$emit("am-pm-change",H))}),e.createSlots({_:2},[e.renderList(e.unref(ne),(H,F)=>({name:H,fn:e.withCtx(c=>[e.renderSlot(f.$slots,H,e.mergeProps({ref_for:!0},c))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,g===0?!0:q.value]])),128))],2)),!f.timePicker&&!f.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"closeTimePickerBtn",ref:w,type:"button",class:e.normalizeClass(re.value),"aria-label":(Q=e.unref(E))==null?void 0:Q.closeTimePicker,tabindex:"0",onKeydown:[B[4]||(B[4]=e.withKeys(O=>k(!1),["enter"])),B[5]||(B[5]=e.withKeys(O=>k(!1),["space"]))],onClick:B[6]||(B[6]=O=>k(!1))},[f.$slots["calendar-icon"]?e.renderSlot(f.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),f.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(We),{key:1}))],42,Qa)),[[e.vShow,!e.unref($)(f.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,qa)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Dn=(t,n,o,r)=>{const{defaultedRange:a}=me(t),m=(Y,q)=>Array.isArray(n[Y])?n[Y][q]:n[Y],p=Y=>t.enableSeconds?Array.isArray(n.seconds)?n.seconds[Y]:n.seconds:0,u=(Y,q)=>Y?q!==void 0?_e(Y,m("hours",q),m("minutes",q),p(q)):_e(Y,n.hours,n.minutes,p()):s.setSeconds(W(),p(q)),P=(Y,q)=>{n[Y]=q},E=e.computed(()=>t.modelAuto&&a.value.enabled?Array.isArray(o.value)?o.value.length>1:!1:a.value.enabled),b=(Y,q)=>{const I=Object.fromEntries(Object.keys(n).map(_=>_===Y?[_,q]:[_,n[_]].slice()));if(E.value&&!a.value.disableTimeRangeValidation){const _=k=>o.value?_e(o.value[k],I.hours[k],I.minutes[k],I.seconds[k]):null,j=k=>s.setMilliseconds(o.value[k],0);return!(ue(_(0),_(1))&&(s.isAfter(_(0),j(1))||s.isBefore(_(1),j(0))))}return!0},M=(Y,q)=>{b(Y,q)&&(P(Y,q),r&&r())},v=Y=>{M("hours",Y)},R=Y=>{M("minutes",Y)},U=Y=>{M("seconds",Y)},$=(Y,q,I,_)=>{q&&v(Y),!q&&!I&&R(Y),I&&U(Y),o.value&&_(o.value)},V=Y=>{if(Y){const q=Array.isArray(Y),I=q?[+Y[0].hours,+Y[1].hours]:+Y.hours,_=q?[+Y[0].minutes,+Y[1].minutes]:+Y.minutes,j=q?[+Y[0].seconds,+Y[1].seconds]:+Y.seconds;P("hours",I),P("minutes",_),t.enableSeconds&&P("seconds",j)}},w=(Y,q)=>{const I={hours:Array.isArray(n.hours)?n.hours[Y]:n.hours,disabledArr:[]};return(q||q===0)&&(I.hours=q),Array.isArray(t.disabledTimes)&&(I.disabledArr=a.value.enabled&&Array.isArray(t.disabledTimes[Y])?t.disabledTimes[Y]:t.disabledTimes),I},z=e.computed(()=>(Y,q)=>{var I;if(Array.isArray(t.disabledTimes)){const{disabledArr:_,hours:j}=w(Y,q),k=_.filter(re=>+re.hours===j);return((I=k[0])==null?void 0:I.minutes)==="*"?{hours:[j],minutes:void 0,seconds:void 0}:{hours:[],minutes:(k==null?void 0:k.map(re=>+re.minutes))??[],seconds:(k==null?void 0:k.map(re=>re.seconds?+re.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:P,updateHours:v,updateMinutes:R,updateSeconds:U,getSetDateTime:u,updateTimeValues:$,getSecondsValue:p,assignStartTime:V,validateTime:b,disabledTimesConfig:z}},Ga=(t,n)=>{const{modelValue:o,time:r}=Je(t,n),{defaultedStartTime:a,defaultedRange:m}=me(t),{updateTimeValues:p,getSetDateTime:u,setTime:P,assignStartTime:E,disabledTimesConfig:b,validateTime:M}=Dn(t,r,o,v);function v(){n("update-flow-step")}const R=I=>{const{hours:_,minutes:j,seconds:k}=I;return{hours:+_,minutes:+j,seconds:k?+k:0}},U=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const _=R(t.startTime[0]),j=R(t.startTime[1]);return[s.set(W(),_),s.set(W(),j)]}const I=R(t.startTime);return s.set(W(),I)}return m.value.enabled?[null,null]:null},$=()=>{if(m.value.enabled){const[I,_]=U();o.value=[u(I,0),u(_,1)]}else o.value=u(U())},V=I=>Array.isArray(I)?[ze(W(I[0])),ze(W(I[1]))]:[ze(I??W())],w=(I,_,j)=>{P("hours",I),P("minutes",_),P("seconds",t.enableSeconds?j:0)},z=()=>{const[I,_]=V(o.value);return m.value.enabled?w([I.hours,_.hours],[I.minutes,_.minutes],[I.seconds,_.seconds]):w(I.hours,I.minutes,I.seconds)};e.onMounted(()=>{if(!t.shadow)return E(a.value),o.value?z():$()});const Y=()=>{Array.isArray(o.value)?o.value=o.value.map((I,_)=>I&&u(I,_)):o.value=u(o.value),n("time-update")};return{modelValue:o,time:r,disabledTimesConfig:b,updateTime:(I,_=!0,j=!1)=>{p(I,_,j,Y)},validateTime:M}},Xa=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Te},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step"],setup(t,{expose:n,emit:o}){const r=o,a=t,m=e.useSlots(),p=Me(m,"timePicker"),u=e.ref(null),{time:P,modelValue:E,disabledTimesConfig:b,updateTime:M,validateTime:v}=Ga(a,r);return e.onMounted(()=>{a.shadow||r("mount",null)}),n({getSidebarProps:()=>({modelValue:E,time:P,updateTime:M}),toggleTimePicker:($,V=!1,w="")=>{var z;(z=u.value)==null||z.toggleTimePicker($,V,w)}}),($,V)=>(e.openBlock(),e.createBlock(ct,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode(Sn,e.mergeProps({ref_key:"tpRef",ref:u},$.$props,{hours:e.unref(P).hours,minutes:e.unref(P).minutes,seconds:e.unref(P).seconds,"internal-model-value":$.internalModelValue,"disabled-times-config":e.unref(b),"validate-time":e.unref(v),"onUpdate:hours":V[0]||(V[0]=w=>e.unref(M)(w)),"onUpdate:minutes":V[1]||(V[1]=w=>e.unref(M)(w,!1)),"onUpdate:seconds":V[2]||(V[2]=w=>e.unref(M)(w,!1,!0)),onAmPmChange:V[3]||(V[3]=w=>$.$emit("am-pm-change",w)),onResetFlow:V[4]||(V[4]=w=>$.$emit("reset-flow"))}),e.createSlots({_:2},[e.renderList(e.unref(p),(w,z)=>({name:w,fn:e.withCtx(Y=>[e.renderSlot($.$slots,w,e.normalizeProps(e.guardReactiveProps(Y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),Ja={class:"dp--header-wrap"},Za={key:0,class:"dp__month_year_wrap"},Fa={key:0},er={class:"dp__month_year_wrap"},tr=["aria-label","data-test","onClick","onKeydown"],nr=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Te},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:n,emit:o}){const r=o,a=t,{defaultedTransitions:m,defaultedAriaLabels:p,defaultedMultiCalendars:u,defaultedFilters:P,defaultedConfig:E,defaultedHighlight:b,propDates:M}=me(a),{transitionName:v,showTransition:R}=Xe(m),{buildMatrix:U}=Ye(),{handleMonthYearChange:$,isDisabled:V,updateMonthYear:w}=ca(a,r),{showLeftIcon:z,showRightIcon:Y}=it(),q=e.ref(!1),I=e.ref(!1),_=e.ref([null,null,null,null]);e.onMounted(()=>{r("mount")});const j=g=>({get:()=>a[g],set:H=>{const F=g===$e.month?$e.year:$e.month;r("update-month-year",{[g]:H,[F]:a[F]}),g===$e.month?L(!0):f(!0)}}),k=e.computed(j($e.month)),re=e.computed(j($e.year)),ne=e.computed(()=>g=>({month:a.month,year:a.year,items:g===$e.month?a.months:a.years,instance:a.instance,updateMonthYear:w,toggle:g===$e.month?L:f})),te=e.computed(()=>{const g=a.months.find(H=>H.value===a.month);return g||{text:"",value:0}}),N=e.computed(()=>Ue(a.months,g=>{const H=a.month===g.value,F=Qe(g.value,sn(a.year,M.value.minDate),un(a.year,M.value.maxDate))||P.value.months.includes(g.value),c=gn(b.value,g.value,a.year);return{active:H,disabled:F,highlighted:c}})),K=e.computed(()=>Ue(a.years,g=>{const H=a.year===g.value,F=Qe(g.value,je(M.value.minDate),je(M.value.maxDate))||P.value.years.includes(g.value),c=Rt(b.value,g.value);return{active:H,disabled:F,highlighted:c}})),J=(g,H)=>{H!==void 0?g.value=H:g.value=!g.value,g.value||r("overlay-closed")},L=(g=!1,H)=>{B(g),J(q,H)},f=(g=!1,H)=>{B(g),J(I,H)},B=g=>{g||r("reset-flow")},y=(g,H)=>{a.arrowNavigation&&(_.value[H]=ke(g),U(_.value,"monthYear"))},Q=e.computed(()=>{var g,H;return[{type:$e.month,index:1,toggle:L,modelValue:k.value,updateModelValue:F=>k.value=F,text:te.value.text,showSelectionGrid:q.value,items:N.value,ariaLabel:(g=p.value)==null?void 0:g.openMonthsOverlay},{type:$e.year,index:2,toggle:f,modelValue:re.value,updateModelValue:F=>re.value=F,text:ln(a.year,a.locale),showSelectionGrid:I.value,items:K.value,ariaLabel:(H=p.value)==null?void 0:H.openYearsOverlay}]}),O=e.computed(()=>a.disableYearSelect?[Q.value[0]]:a.yearFirst?[...Q.value].reverse():Q.value);return n({toggleMonthPicker:L,toggleYearPicker:f,handleMonthYearChange:$}),(g,H)=>{var F,c,S;return e.openBlock(),e.createElementBlock("div",Ja,[g.$slots["month-year"]?(e.openBlock(),e.createElementBlock("div",Za,[e.renderSlot(g.$slots,"month-year",e.normalizeProps(e.guardReactiveProps({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(w),handleMonthYearChange:e.unref($),instance:t.instance})))])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[g.$slots["top-extra"]?(e.openBlock(),e.createElementBlock("div",Fa,[e.renderSlot(g.$slots,"top-extra",{value:g.internalModelValue})])):e.createCommentVNode("",!0),e.createElementVNode("div",er,[e.unref(z)(e.unref(u),t.instance)&&!g.vertical?(e.openBlock(),e.createBlock(Fe,{key:0,"aria-label":(F=e.unref(p))==null?void 0:F.prevMonth,disabled:e.unref(V)(!1),onActivate:H[0]||(H[0]=A=>e.unref($)(!1,!0)),onSetRef:H[1]||(H[1]=A=>y(A,0))},{default:e.withCtx(()=>[g.$slots["arrow-left"]?e.renderSlot(g.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(yt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:g.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(O.value,(A,le)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:A.type},[e.createElementVNode("button",{ref_for:!0,ref:d=>y(d,le+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":A.ariaLabel,"data-test":`${A.type}-toggle-overlay-${t.instance}`,onClick:A.toggle,onKeydown:[e.withKeys(e.withModifiers(A.toggle,["prevent"]),["enter"]),e.withKeys(e.withModifiers(A.toggle,["prevent"]),["space"])]},[g.$slots[A.type]?e.renderSlot(g.$slots,A.type,{key:0,text:A.text,value:a[A.type]}):e.createCommentVNode("",!0),g.$slots[A.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(A.text),1)],64))],40,tr),e.createVNode(e.Transition,{name:e.unref(v)(A.showSelectionGrid),css:e.unref(R)},{default:e.withCtx(()=>[A.showSelectionGrid?(e.openBlock(),e.createBlock(Ze,{key:0,items:A.items,"arrow-navigation":g.arrowNavigation,"hide-navigation":g.hideNavigation,"is-last":g.autoApply&&!e.unref(E).keepActionRow,"skip-button-ref":!1,config:g.config,type:A.type,"header-refs":[],"esc-close":g.escClose,"menu-wrap-ref":g.menuWrapRef,"text-input":g.textInput,"aria-labels":g.ariaLabels,onSelected:A.updateModelValue,onToggle:A.toggle},e.createSlots({"button-icon":e.withCtx(()=>[g.$slots["calendar-icon"]?e.renderSlot(g.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),g.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(We),{key:1}))]),_:2},[g.$slots[`${A.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:d})=>[e.renderSlot(g.$slots,`${A.type}-overlay-value`,{text:d.text,value:d.value})]),key:"0"}:void 0,g.$slots[`${A.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(g.$slots,`${A.type}-overlay`,e.mergeProps({ref_for:!0},ne.value(A.type)))]),key:"1"}:void 0,g.$slots[`${A.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(g.$slots,`${A.type}-overlay-header`,{toggle:A.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(z)(e.unref(u),t.instance)&&g.vertical?(e.openBlock(),e.createBlock(Fe,{key:1,"aria-label":(c=e.unref(p))==null?void 0:c.prevMonth,disabled:e.unref(V)(!1),onActivate:H[2]||(H[2]=A=>e.unref($)(!1,!0))},{default:e.withCtx(()=>[g.$slots["arrow-up"]?e.renderSlot(g.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(bt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(Y)(e.unref(u),t.instance)?(e.openBlock(),e.createBlock(Fe,{key:2,ref:"rightIcon",disabled:e.unref(V)(!0),"aria-label":(S=e.unref(p))==null?void 0:S.nextMonth,onActivate:H[3]||(H[3]=A=>e.unref($)(!0,!0)),onSetRef:H[4]||(H[4]=A=>y(A,g.disableYearSelect?2:3))},{default:e.withCtx(()=>[g.$slots[g.vertical?"arrow-down":"arrow-right"]?e.renderSlot(g.$slots,g.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),g.$slots[g.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(g.vertical?e.unref(wt):e.unref(ht)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)])],64))])}}}),ar=["aria-label"],rr={class:"dp__calendar_header",role:"row"},lr={key:0,class:"dp__calendar_header_item",role:"gridcell"},or=["aria-label"],sr=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),ir=["aria-label"],ur={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},cr={class:"dp__cell_inner"},dr=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],fr=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Te},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:n,emit:o}){const r=o,a=t,{buildMultiLevelMatrix:m}=Ye(),{defaultedTransitions:p,defaultedConfig:u,defaultedAriaLabels:P,defaultedMultiCalendars:E,defaultedWeekNumbers:b,defaultedMultiDates:M}=me(a),v=e.ref(null),R=e.ref({bottom:"",left:"",transform:""}),U=e.ref([]),$=e.ref(null),V=e.ref(!0),w=e.ref(""),z=e.ref({startX:0,endX:0,startY:0,endY:0}),Y=e.ref([]),q=e.ref({left:"50%"}),I=e.ref(!1),_=e.computed(()=>a.calendar?a.calendar(a.mappedDates):a.mappedDates),j=e.computed(()=>a.dayNames?Array.isArray(a.dayNames)?a.dayNames:a.dayNames(a.locale,+a.weekStart):Rn(a.formatLocale,a.locale,+a.weekStart));e.onMounted(()=>{r("mount",{cmp:"calendar",refs:U}),u.value.noSwipe||$.value&&($.value.addEventListener("touchstart",Q,{passive:!1}),$.value.addEventListener("touchend",O,{passive:!1}),$.value.addEventListener("touchmove",g,{passive:!1})),a.monthChangeOnScroll&&$.value&&$.value.addEventListener("wheel",c,{passive:!1})});const k=l=>l?a.vertical?"vNext":"next":a.vertical?"vPrevious":"previous",re=(l,T)=>{if(a.transitions){const X=ve(Ne(W(),a.month,a.year));w.value=ge(ve(Ne(W(),l,T)),X)?p.value[k(!0)]:p.value[k(!1)],V.value=!1,e.nextTick(()=>{V.value=!0})}},ne=e.computed(()=>({[a.calendarClassName]:!!a.calendarClassName})),te=e.computed(()=>l=>{const T=En(l);return{dp__marker_dot:T.type==="dot",dp__marker_line:T.type==="line"}}),N=e.computed(()=>l=>ue(l,v.value)),K=e.computed(()=>({dp__calendar:!0,dp__calendar_next:E.value.count>0&&a.instance!==0})),J=e.computed(()=>l=>a.hideOffsetDates?l.current:!0),L=l=>s.format(l,"yyyy-MM-dd"),f=async(l,T,X)=>{const G=ke(U.value[T][X]);if(G){const{width:Z,height:h}=G.getBoundingClientRect();v.value=l.value;let C={left:`${Z/2}px`},ie=-50;if(await e.nextTick(),Y.value[0]){const{left:se,width:we}=Y.value[0].getBoundingClientRect();se<0&&(C={left:"0"},ie=0,q.value.left=`${Z/2}px`),window.innerWidth<se+we&&(C={right:"0"},ie=0,q.value.left=`${we-Z/2}px`)}R.value={bottom:`${h}px`,...C,transform:`translateX(${ie}%)`},r("tooltip-open",l.marker)}},B=async(l,T,X)=>{var G,Z;if(I.value&&M.value.enabled&&M.value.dragSelect)return r("select-date",l);r("set-hover-date",l),(Z=(G=l.marker)==null?void 0:G.tooltip)!=null&&Z.length&&await f(l,T,X)},y=l=>{v.value&&(v.value=null,R.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",l.marker))},Q=l=>{z.value.startX=l.changedTouches[0].screenX,z.value.startY=l.changedTouches[0].screenY},O=l=>{z.value.endX=l.changedTouches[0].screenX,z.value.endY=l.changedTouches[0].screenY,H()},g=l=>{a.vertical&&!a.inline&&l.preventDefault()},H=()=>{const l=a.vertical?"Y":"X";Math.abs(z.value[`start${l}`]-z.value[`end${l}`])>10&&r("handle-swipe",z.value[`start${l}`]>z.value[`end${l}`]?"right":"left")},F=(l,T,X)=>{l&&(Array.isArray(U.value[T])?U.value[T][X]=l:U.value[T]=[l]),a.arrowNavigation&&m(U.value,"calendar")},c=l=>{a.monthChangeOnScroll&&(l.preventDefault(),r("handle-scroll",l))},S=l=>b.value.type==="local"?s.getWeek(l.value,{weekStartsOn:+a.weekStart}):b.value.type==="iso"?s.getISOWeek(l.value):typeof b.value.type=="function"?b.value.type(l.value):"",A=l=>{const T=l[0];return b.value.hideOnOffsetDates?l.some(X=>X.current)?S(T):"":S(T)},le=(l,T)=>{M.value.enabled||(Ee(l,u.value),r("select-date",T))},d=l=>{Ee(l,u.value)},ee=l=>{M.value.enabled&&M.value.dragSelect?(I.value=!0,r("select-date",l)):M.value.enabled&&r("select-date",l)};return n({triggerTransition:re}),(l,T)=>{var X;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(K.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:$,role:"grid",class:e.normalizeClass(ne.value),"aria-label":(X=e.unref(P))==null?void 0:X.calendarWrap},[e.createElementVNode("div",rr,[l.weekNumbers?(e.openBlock(),e.createElementBlock("div",lr,e.toDisplayString(l.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(j.value,(G,Z)=>{var h,C;return e.openBlock(),e.createElementBlock("div",{key:Z,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(C=(h=e.unref(P))==null?void 0:h.weekDay)==null?void 0:C.call(h,Z)},[l.$slots["calendar-header"]?e.renderSlot(l.$slots,"calendar-header",{key:0,day:G,index:Z}):e.createCommentVNode("",!0),l.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(G),1)],64))],8,or)}),128))]),sr,e.createVNode(e.Transition,{name:w.value,css:!!l.transitions},{default:e.withCtx(()=>{var G;return[V.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((G=e.unref(P))==null?void 0:G.calendarDays)||void 0,onMouseleave:T[1]||(T[1]=Z=>I.value=!1)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(_.value,(Z,h)=>(e.openBlock(),e.createElementBlock("div",{key:h,class:"dp__calendar_row",role:"row"},[l.weekNumbers?(e.openBlock(),e.createElementBlock("div",ur,[e.createElementVNode("div",cr,e.toDisplayString(A(Z.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Z.days,(C,ie)=>{var se,we,ae;return e.openBlock(),e.createElementBlock("div",{id:L(C.value),ref_for:!0,ref:fe=>F(fe,h,ie),key:ie+h,role:"gridcell",class:"dp__calendar_item","aria-selected":(C.classData.dp__active_date||C.classData.dp__range_start||C.classData.dp__range_start)??void 0,"aria-disabled":C.classData.dp__cell_disabled||void 0,"aria-label":(we=(se=e.unref(P))==null?void 0:se.day)==null?void 0:we.call(se,C),tabindex:"0","data-test":C.value,onClick:e.withModifiers(fe=>le(fe,C),["prevent"]),onKeydown:[e.withKeys(fe=>l.$emit("select-date",C),["enter"]),e.withKeys(fe=>l.$emit("handle-space",C),["space"])],onMouseenter:fe=>B(C,h,ie),onMouseleave:fe=>y(C),onMousedown:fe=>ee(C),onMouseup:T[0]||(T[0]=fe=>I.value=!1)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",C.classData])},[l.$slots.day&&J.value(C)?e.renderSlot(l.$slots,"day",{key:0,day:+C.text,date:C.value}):e.createCommentVNode("",!0),l.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(C.text),1)],64)),C.marker&&J.value(C)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[l.$slots.marker?e.renderSlot(l.$slots,"marker",{key:0,marker:C.marker,day:+C.text,date:C.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(te.value(C.marker)),style:e.normalizeStyle(C.marker.color?{backgroundColor:C.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),N.value(C.value)?(e.openBlock(),e.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:Y,class:"dp__marker_tooltip",style:e.normalizeStyle(R.value)},[(ae=C.marker)!=null&&ae.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:d},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(C.marker.tooltip,(fe,Se)=>(e.openBlock(),e.createElementBlock("div",{key:Se,class:"dp__tooltip_text"},[l.$slots["marker-tooltip"]?e.renderSlot(l.$slots,"marker-tooltip",{key:0,tooltip:fe,day:C.value}):e.createCommentVNode("",!0),l.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(fe.color?{backgroundColor:fe.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(fe.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(q.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,dr)}),128))]))),128))],40,ir)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,ar)],2)}}}),Cn=t=>Array.isArray(t),mr=(t,n,o,r)=>{const a=e.ref([]),m=e.ref(new Date),p=e.ref(),{modelValue:u,calendars:P,time:E,today:b}=Je(t,n),{defaultedMultiCalendars:M,defaultedStartTime:v,defaultedRange:R,defaultedConfig:U,defaultedTz:$,propDates:V,defaultedMultiDates:w}=me(t),{validateMonthYearInRange:z,isDisabled:Y,isDateRangeAllowed:q,checkMinMaxRange:I}=Ie(t),{updateTimeValues:_,getSetDateTime:j,setTime:k,assignStartTime:re,validateTime:ne,disabledTimesConfig:te}=Dn(t,E,u,r),N=e.computed(()=>i=>P.value[i]?P.value[i].month:0),K=e.computed(()=>i=>P.value[i]?P.value[i].year:0),J=i=>!U.value.keepViewOnOffsetClick||i?!0:!p.value,L=(i,D,x,oe=!1)=>{var ce,Ce;J(oe)&&(P.value[i]||(P.value[i]={month:0,year:0}),P.value[i].month=an(D)?(ce=P.value[i])==null?void 0:ce.month:D,P.value[i].year=an(x)?(Ce=P.value[i])==null?void 0:Ce.year:x)},f=()=>{t.autoApply&&n("select-date")};e.watch(u,(i,D)=>{JSON.stringify(i)!==JSON.stringify(D)&&Q()},{deep:!0}),e.onMounted(()=>{t.shadow||(u.value||(l(),v.value&&re(v.value)),Q(!0),t.focusStartDate&&t.startDate&&l())});const B=e.computed(()=>{var i;return(i=t.flow)!=null&&i.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),y=()=>{t.autoApply&&B.value&&n("auto-apply")},Q=(i=!1)=>{if(u.value)return Array.isArray(u.value)?(a.value=u.value,A(i)):H(u.value,i);if(M.value.count&&i&&!t.startDate)return g(W(),i)},O=()=>Array.isArray(u.value)&&R.value.enabled?s.getMonth(u.value[0])===s.getMonth(u.value[1]??u.value[0]):!1,g=(i,D=!1)=>{if((!M.value.count||!M.value.static||D)&&L(0,s.getMonth(i),s.getYear(i)),M.value.count&&(!M.value.solo||!u.value||O()))for(let x=1;x<M.value.count;x++){const oe=s.set(W(),{month:N.value(x-1),year:K.value(x-1)}),ce=s.add(oe,{months:1});P.value[x]={month:s.getMonth(ce),year:s.getYear(ce)}}},H=(i,D)=>{g(i),k("hours",s.getHours(i)),k("minutes",s.getMinutes(i)),k("seconds",s.getSeconds(i)),M.value.count&&D&&ee()},F=i=>{if(M.value.count){if(M.value.solo)return 0;const D=s.getMonth(i[0]),x=s.getMonth(i[1]);return Math.abs(x-D)<M.value.count?0:1}return 1},c=(i,D)=>{i[1]&&R.value.showLastInRange?g(i[F(i)],D):g(i[0],D);const x=(oe,ce)=>[oe(i[0]),i[1]?oe(i[1]):E[ce][1]];k("hours",x(s.getHours,"hours")),k("minutes",x(s.getMinutes,"minutes")),k("seconds",x(s.getSeconds,"seconds"))},S=(i,D)=>{if((R.value.enabled||t.weekPicker)&&!w.value.enabled)return c(i,D);if(w.value.enabled&&D){const x=i[i.length-1];return H(x,D)}},A=i=>{const D=u.value;S(D,i),M.value.count&&M.value.solo&&ee()},le=(i,D)=>{const x=s.set(W(),{month:N.value(D),year:K.value(D)}),oe=i<0?s.addMonths(x,1):s.subMonths(x,1);z(s.getMonth(oe),s.getYear(oe),i<0,t.preventMinMaxNavigation)&&(L(D,s.getMonth(oe),s.getYear(oe)),n("update-month-year",{instance:D,month:s.getMonth(oe),year:s.getYear(oe)}),M.value.count&&!M.value.solo&&d(D),o())},d=i=>{for(let D=i-1;D>=0;D--){const x=s.subMonths(s.set(W(),{month:N.value(D+1),year:K.value(D+1)}),1);L(D,s.getMonth(x),s.getYear(x))}for(let D=i+1;D<=M.value.count-1;D++){const x=s.addMonths(s.set(W(),{month:N.value(D-1),year:K.value(D-1)}),1);L(D,s.getMonth(x),s.getYear(x))}},ee=()=>{if(Array.isArray(u.value)&&u.value.length===2){const i=W(W(u.value[1]?u.value[1]:s.addMonths(u.value[0],1))),[D,x]=[s.getMonth(u.value[0]),s.getYear(u.value[0])],[oe,ce]=[s.getMonth(u.value[1]),s.getYear(u.value[1])];(D!==oe||D===oe&&x!==ce)&&M.value.solo&&L(1,s.getMonth(i),s.getYear(i))}else u.value&&!Array.isArray(u.value)&&(L(0,s.getMonth(u.value),s.getYear(u.value)),g(W()))},l=()=>{t.startDate&&(L(0,s.getMonth(W(t.startDate)),s.getYear(W(t.startDate))),M.value.count&&d(0))},T=(i,D)=>{if(t.monthChangeOnScroll){const x=new Date().getTime()-m.value.getTime(),oe=Math.abs(i.deltaY);let ce=500;oe>1&&(ce=100),oe>100&&(ce=0),x>ce&&(m.value=new Date,le(t.monthChangeOnScroll!=="inverse"?-i.deltaY:i.deltaY,D))}},X=(i,D,x=!1)=>{t.monthChangeOnArrows&&t.vertical===x&&G(i,D)},G=(i,D)=>{le(i==="right"?-1:1,D)},Z=i=>{if(V.value.markers)return rt(i.value,V.value.markers)},h=(i,D)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[i==0,!0];case"fair":return[i==0||D>i,!0];case"append":return[!1,!1];default:return[!1,!1]}},C=(i,D,x,oe)=>{if(t.sixWeeks&&i.length<6){const ce=6-i.length,Ce=(D.getDay()+7-oe)%7,pt=6-(x.getDay()+7-oe)%7,[at,Gt]=h(Ce,pt);for(let He=1;He<=ce;He++)if(Gt?!!(He%2)==at:at){const gt=i[0].days[0],Xt=ie(s.addDays(gt.value,-7),s.getMonth(D));i.unshift({days:Xt})}else{const gt=i[i.length-1],Xt=gt.days[gt.days.length-1],Nr=ie(s.addDays(Xt.value,1),s.getMonth(D));i.push({days:Nr})}}return i},ie=(i,D)=>{const x=W(i),oe=[];for(let ce=0;ce<7;ce++){const Ce=s.addDays(x,ce),nt=s.getMonth(Ce)!==D;oe.push({text:t.hideOffsetDates&&nt?"":Ce.getDate(),value:Ce,current:!nt,classData:{}})}return oe},se=(i,D)=>{const x=[],oe=new Date(D,i),ce=new Date(D,i+1,0),Ce=t.weekStart,nt=s.startOfWeek(oe,{weekStartsOn:Ce}),pt=at=>{const Gt=ie(at,i);if(x.push({days:Gt}),!x[x.length-1].days.some(He=>ue(ve(He.value),ve(ce)))){const He=s.addDays(at,7);pt(He)}};return pt(nt),C(x,oe,ce,Ce)},we=i=>{const D=_e(W(i.value),E.hours,E.minutes,De());n("date-update",D),w.value.enabled?Ot(D,u,w.value.limit):u.value=D,r(),e.nextTick().then(()=>{y()})},ae=i=>R.value.noDisabledRange?cn(a.value[0],i).some(x=>Y(x)):!1,fe=()=>{a.value=u.value?u.value.slice():[],a.value.length===2&&!(R.value.fixedStart||R.value.fixedEnd)&&(a.value=[])},Se=(i,D)=>{const x=[W(i.value),s.addDays(W(i.value),+R.value.autoRange)];q(x)?(D&&ft(i.value),a.value=x):n("invalid-date",i.value)},ft=i=>{const D=s.getMonth(W(i)),x=s.getYear(W(i));if(L(0,D,x),M.value.count>0)for(let oe=1;oe<M.value.count;oe++){const ce=Kn(s.set(W(i),{year:N.value(oe-1),month:K.value(oe-1)}));L(oe,ce.month,ce.year)}},Kt=i=>{if(ae(i.value)||!I(i.value,u.value,R.value.fixedStart?0:1))return n("invalid-date",i.value);a.value=vn(W(i.value),u,n,R)},et=(i,D)=>{if(fe(),R.value.autoRange)return Se(i,D);if(R.value.fixedStart||R.value.fixedEnd)return Kt(i);a.value[0]?I(W(i.value),u.value)&&!ae(i.value)?pe(W(i.value),W(a.value[0]))?(a.value.unshift(W(i.value)),n("range-end",a.value[0])):(a.value[1]=W(i.value),n("range-end",a.value[1])):(t.autoApply&&n("auto-apply-invalid",i.value),n("invalid-date",i.value)):(a.value[0]=W(i.value),n("range-start",a.value[0]))},De=(i=!0)=>t.enableSeconds?Array.isArray(E.seconds)?i?E.seconds[0]:E.seconds[1]:E.seconds:0,tt=i=>{a.value[i]=_e(a.value[i],E.hours[i],E.minutes[i],De(i!==1))},Ht=()=>{var i,D;a.value[0]&&a.value[1]&&+((i=a.value)==null?void 0:i[0])>+((D=a.value)==null?void 0:D[1])&&(a.value.reverse(),n("range-start",a.value[0]),n("range-end",a.value[1]))},mt=()=>{a.value.length&&(a.value[0]&&!a.value[1]?tt(0):(tt(0),tt(1),r()),Ht(),u.value=a.value.slice(),dt(a.value,n,t.autoApply,t.modelAuto))},Wt=(i,D=!1)=>{if(Y(i.value)||!i.current&&t.hideOffsetDates)return n("invalid-date",i.value);if(p.value=JSON.parse(JSON.stringify(i)),!R.value.enabled)return we(i);Cn(E.hours)&&Cn(E.minutes)&&!w.value.enabled&&(et(i,D),mt())},Ut=(i,D)=>{var oe;L(i,D.month,D.year,!0),M.value.count&&!M.value.solo&&d(i),n("update-month-year",{instance:i,month:D.month,year:D.year}),o(M.value.solo?i:void 0);const x=(oe=t.flow)!=null&&oe.length?t.flow[t.flowStep]:void 0;!D.fromNav&&(x===Pe.month||x===Pe.year)&&r()},jt=(i,D)=>{wn({value:i,modelValue:u,range:R.value.enabled,timezone:D?void 0:$.value.timezone}),f(),t.multiCalendars&&e.nextTick().then(()=>Q(!0))},xt=()=>{R.value.enabled?u.value&&Array.isArray(u.value)&&u.value[0]?u.value=pe(W(),u.value[0])?[W(),u.value[0]]:[u.value[0],W()]:u.value=[W()]:u.value=W(),f()},qt=()=>{if(Array.isArray(u.value))if(w.value.enabled){const i=Qt();u.value[u.value.length-1]=j(i)}else u.value=u.value.map((i,D)=>i&&j(i,D));else u.value=j(u.value);n("time-update")},Qt=()=>Array.isArray(u.value)&&u.value.length?u.value[u.value.length-1]:null;return{calendars:P,modelValue:u,month:N,year:K,time:E,disabledTimesConfig:te,today:b,validateTime:ne,getCalendarDays:se,getMarker:Z,handleScroll:T,handleSwipe:G,handleArrow:X,selectDate:Wt,updateMonthYear:Ut,presetDate:jt,selectCurrentDate:xt,updateTime:(i,D=!0,x=!1)=>{_(i,D,x,qt)}}},pr={key:0},gr=e.defineComponent({__name:"DatePicker",props:{...Te},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:n,emit:o}){const r=o,a=t,{calendars:m,month:p,year:u,modelValue:P,time:E,disabledTimesConfig:b,today:M,validateTime:v,getCalendarDays:R,getMarker:U,handleArrow:$,handleScroll:V,handleSwipe:w,selectDate:z,updateMonthYear:Y,presetDate:q,selectCurrentDate:I,updateTime:_}=mr(a,r,O,g),j=e.useSlots(),{setHoverDate:k,getDayClassData:re,clearHoverDate:ne}=pa(P,a),{defaultedMultiCalendars:te}=me(a),N=e.ref([]),K=e.ref([]),J=e.ref(null),L=Me(j,"calendar"),f=Me(j,"monthYear"),B=Me(j,"timePicker"),y=l=>{a.shadow||r("mount",l)};e.watch(m,()=>{a.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const Q=e.computed(()=>l=>R(p.value(l),u.value(l)).map(T=>({...T,days:T.days.map(X=>(X.marker=U(X),X.classData=re(X),X))})));function O(l){var T;l||l===0?(T=K.value[l])==null||T.triggerTransition(p.value(l),u.value(l)):K.value.forEach((X,G)=>X.triggerTransition(p.value(G),u.value(G)))}function g(){r("update-flow-step")}const H=(l,T=!1)=>{z(l,T),a.spaceConfirm&&r("select-date")};return n({clearHoverDate:ne,presetDate:q,selectCurrentDate:I,toggleMonthPicker:(l,T,X=0)=>{var G;(G=N.value[X])==null||G.toggleMonthPicker(l,T)},toggleYearPicker:(l,T,X=0)=>{var G;(G=N.value[X])==null||G.toggleYearPicker(l,T)},toggleTimePicker:(l,T,X)=>{var G;(G=J.value)==null||G.toggleTimePicker(l,T,X)},handleArrow:$,updateMonthYear:Y,getSidebarProps:()=>({modelValue:P,month:p,year:u,time:E,updateTime:_,updateMonthYear:Y,selectDate:z,presetDate:q}),changeMonth:l=>{var T;(T=N.value[0])==null||T.handleMonthYearChange(l,!0)},changeYear:l=>{Y(0,{month:p.value(0),year:u.value(0)+(l?1:-1),fromNav:!0})},selectWeekDate:l=>{if(!a.range){const T=P.value?P.value:M,X=l?s.startOfWeek(T,{weekStartsOn:1}):s.endOfWeek(T,{weekStartsOn:1});z({value:X,current:s.getMonth(T)===p.value(0),text:"",classData:{}})}}}),(l,T)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(ct,{"multi-calendars":e.unref(te).count,collapse:l.collapse},{default:e.withCtx(({instance:X,index:G})=>[l.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(nr,e.mergeProps({key:0,ref:Z=>{Z&&(N.value[G]=Z)},months:e.unref(en)(l.formatLocale,l.locale,l.monthNameFormat),years:e.unref(Mt)(l.yearRange,l.locale,l.reverseYears),month:e.unref(p)(X),year:e.unref(u)(X),instance:X},l.$props,{onMount:T[0]||(T[0]=Z=>y(e.unref(Ke).header)),onResetFlow:T[1]||(T[1]=Z=>l.$emit("reset-flow")),onUpdateMonthYear:Z=>e.unref(Y)(X,Z),onOverlayClosed:T[2]||(T[2]=Z=>l.$emit("focus-menu"))}),e.createSlots({_:2},[e.renderList(e.unref(f),(Z,h)=>({name:Z,fn:e.withCtx(C=>[e.renderSlot(l.$slots,Z,e.normalizeProps(e.guardReactiveProps(C)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(fr,e.mergeProps({ref:Z=>{Z&&(K.value[G]=Z)},"mapped-dates":Q.value(X),month:e.unref(p)(X),year:e.unref(u)(X),instance:X},l.$props,{onSelectDate:Z=>e.unref(z)(Z,X!==1),onHandleSpace:Z=>H(Z,X!==1),onSetHoverDate:T[3]||(T[3]=Z=>e.unref(k)(Z)),onHandleScroll:Z=>e.unref(V)(Z,X),onHandleSwipe:Z=>e.unref(w)(Z,X),onMount:T[4]||(T[4]=Z=>y(e.unref(Ke).calendar)),onResetFlow:T[5]||(T[5]=Z=>l.$emit("reset-flow")),onTooltipOpen:T[6]||(T[6]=Z=>l.$emit("tooltip-open",Z)),onTooltipClose:T[7]||(T[7]=Z=>l.$emit("tooltip-close",Z))}),e.createSlots({_:2},[e.renderList(e.unref(L),(Z,h)=>({name:Z,fn:e.withCtx(C=>[e.renderSlot(l.$slots,Z,e.normalizeProps(e.guardReactiveProps({...C})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),l.enableTimePicker?(e.openBlock(),e.createElementBlock("div",pr,[l.$slots["time-picker"]?e.renderSlot(l.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(E),updateTime:e.unref(_)}))):(e.openBlock(),e.createBlock(Sn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:J},l.$props,{hours:e.unref(E).hours,minutes:e.unref(E).minutes,seconds:e.unref(E).seconds,"internal-model-value":l.internalModelValue,"disabled-times-config":e.unref(b),"validate-time":e.unref(v),onMount:T[8]||(T[8]=X=>y(e.unref(Ke).timePicker)),"onUpdate:hours":T[9]||(T[9]=X=>e.unref(_)(X)),"onUpdate:minutes":T[10]||(T[10]=X=>e.unref(_)(X,!1)),"onUpdate:seconds":T[11]||(T[11]=X=>e.unref(_)(X,!1,!0)),onResetFlow:T[12]||(T[12]=X=>l.$emit("reset-flow")),onOverlayClosed:T[13]||(T[13]=X=>l.$emit("time-picker-close")),onOverlayOpened:T[14]||(T[14]=X=>l.$emit("time-picker-open",X)),onAmPmChange:T[15]||(T[15]=X=>l.$emit("am-pm-change",X))}),e.createSlots({_:2},[e.renderList(e.unref(B),(X,G)=>({name:X,fn:e.withCtx(Z=>[e.renderSlot(l.$slots,X,e.normalizeProps(e.guardReactiveProps(Z)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),yr=(t,n)=>{const o=e.ref(),{defaultedMultiCalendars:r,defaultedConfig:a,defaultedHighlight:m,defaultedRange:p,propDates:u,defaultedFilters:P,defaultedMultiDates:E}=me(t),{modelValue:b,year:M,month:v,calendars:R}=Je(t,n),{isDisabled:U}=Ie(t),{selectYear:$,groupedYears:V,showYearPicker:w,isDisabled:z,toggleYearPicker:Y,handleYearSelect:q,handleYear:I}=Mn({modelValue:b,multiCalendars:r,highlight:m,calendars:R,propDates:u,month:v,year:M,filters:P,props:t,emit:n}),_=(B,y)=>[B,y].map(Q=>s.format(Q,"MMMM",{locale:t.formatLocale})).join("-"),j=e.computed(()=>B=>b.value?Array.isArray(b.value)?b.value.some(y=>s.isSameQuarter(B,y)):s.isSameQuarter(b.value,B):!1),k=B=>{if(p.value.enabled){if(Array.isArray(b.value)){const y=ue(B,b.value[0])||ue(B,b.value[1]);return lt(b.value,o.value,B)&&!y}return!1}return!1},re=(B,y)=>B.quarter===s.getQuarter(y)&&B.year===s.getYear(y),ne=B=>typeof m.value=="function"?m.value({quarter:s.getQuarter(B),year:s.getYear(B)}):!!m.value.quarters.find(y=>re(y,B)),te=e.computed(()=>B=>{const y=s.set(new Date,{year:M.value(B)});return s.eachQuarterOfInterval({start:s.startOfYear(y),end:s.endOfYear(y)}).map(Q=>{const O=s.startOfQuarter(Q),g=s.endOfQuarter(Q),H=U(Q),F=k(O),c=ne(O);return{text:_(O,g),value:O,active:j.value(O),highlighted:c,disabled:H,isBetween:F}})}),N=B=>{Ot(B,b,E.value.limit),n("auto-apply",!0)},K=B=>{b.value=It(b,B,n),dt(b.value,n,t.autoApply,t.modelAuto)},J=B=>{b.value=B,n("auto-apply")};return{defaultedConfig:a,defaultedMultiCalendars:r,groupedYears:V,year:M,isDisabled:z,quarters:te,showYearPicker:w,modelValue:b,setHoverDate:B=>{o.value=B},selectYear:$,selectQuarter:(B,y,Q)=>{if(!Q)return R.value[y].month=s.getMonth(s.endOfQuarter(B)),E.value.enabled?N(B):p.value.enabled?K(B):J(B)},toggleYearPicker:Y,handleYearSelect:q,handleYear:I}},hr={class:"dp--quarter-items"},kr=["data-test","disabled","onClick","onMouseover"],br=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Te},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:n,emit:o}){const r=o,a=t,m=e.useSlots(),p=Me(m,"yearMode"),{defaultedMultiCalendars:u,defaultedConfig:P,groupedYears:E,year:b,isDisabled:M,quarters:v,modelValue:R,showYearPicker:U,setHoverDate:$,selectQuarter:V,toggleYearPicker:w,handleYearSelect:z,handleYear:Y}=yr(a,r);return n({getSidebarProps:()=>({modelValue:R,year:b,selectQuarter:V,handleYearSelect:z,handleYear:Y})}),(I,_)=>(e.openBlock(),e.createBlock(ct,{"multi-calendars":e.unref(u).count,collapse:I.collapse,stretch:""},{default:e.withCtx(({instance:j})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref(P).modeHeight}px`})},[I.$slots["top-extra"]?e.renderSlot(I.$slots,"top-extra",{key:0,value:I.internalModelValue}):e.createCommentVNode("",!0),e.createElementVNode("div",null,[e.createVNode(bn,e.mergeProps(I.$props,{items:e.unref(E)(j),instance:j,"show-year-picker":e.unref(U)[j],year:e.unref(b)(j),"is-disabled":k=>e.unref(M)(j,k),onHandleYear:k=>e.unref(Y)(j,k),onYearSelect:k=>e.unref(z)(k,j),onToggleYearPicker:k=>e.unref(w)(j,k==null?void 0:k.flow,k==null?void 0:k.show)}),e.createSlots({_:2},[e.renderList(e.unref(p),(k,re)=>({name:k,fn:e.withCtx(ne=>[e.renderSlot(I.$slots,k,e.normalizeProps(e.guardReactiveProps(ne)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",hr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v)(j),(k,re)=>(e.openBlock(),e.createElementBlock("div",{key:re},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":k.active,"dp--qr-btn-between":k.isBetween,"dp--qr-btn-disabled":k.disabled,"dp--highlighted":k.highlighted}]),"data-test":k.value,disabled:k.disabled,onClick:ne=>e.unref(V)(k.value,j,k.disabled),onMouseover:ne=>e.unref($)(k.value)},[I.$slots.quarter?e.renderSlot(I.$slots,"quarter",{key:0,value:k.value,text:k.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(k.text),1)],64))],42,kr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),wr=["id","aria-label"],vr={key:0,class:"dp--menu-load-container"},Mr=[e.createElementVNode("span",{class:"dp--menu-loader"},null,-1)],Sr={key:0,class:"dp__sidebar_left"},Dr=["data-test","onClick","onKeydown"],Cr={key:2,class:"dp__sidebar_right"},Br={key:3,class:"dp__action_extra"},Bn=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...ut,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:n,emit:o}){const r=o,a=t,m=e.ref(null),p=e.computed(()=>{const{openOnTop:h,...C}=a;return{...C,flowStep:k.value,collapse:a.collapse,noOverlayFocus:a.noOverlayFocus,menuWrapRef:m.value}}),{setMenuFocused:u,setShiftKey:P,control:E}=yn(),b=e.useSlots(),{defaultedTextInput:M,defaultedInline:v,defaultedConfig:R}=me(a),U=e.ref(null),$=e.ref(0),V=e.ref(null),w=e.ref(!1),z=e.ref(null);e.onMounted(()=>{if(!a.shadow){w.value=!0,Y(),window.addEventListener("resize",Y);const h=ke(m);if(h&&!M.value.enabled&&!v.value.enabled&&(u(!0),J()),h){const C=ie=>{R.value.allowPreventDefault&&ie.preventDefault(),Ee(ie,R.value,!0)};h.addEventListener("pointerdown",C),h.addEventListener("mousedown",C)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",Y)});const Y=()=>{const h=ke(V);h&&($.value=h.getBoundingClientRect().width)},{arrowRight:q,arrowLeft:I,arrowDown:_,arrowUp:j}=Ye(),{flowStep:k,updateFlowStep:re,childMount:ne,resetFlow:te}=ga(a,r,z),N=e.computed(()=>a.monthPicker?Ra:a.yearPicker?Ea:a.timePicker?Xa:a.quarterPicker?br:gr),K=e.computed(()=>{var ie;if(R.value.arrowLeft)return R.value.arrowLeft;const h=(ie=m.value)==null?void 0:ie.getBoundingClientRect(),C=a.getInputRect();return C.width<$.value&&C.left<=((h==null?void 0:h.left)??0)?`${C.width/2}px`:"50%"}),J=()=>{const h=ke(m);h&&h.focus({preventScroll:!0})},L=e.computed(()=>{var h;return((h=z.value)==null?void 0:h.getSidebarProps())||{}}),f=()=>{a.openOnTop&&r("recalculate-position")},B=Me(b,"action"),y=e.computed(()=>a.monthPicker||a.yearPicker?Me(b,"monthYear"):a.timePicker?Me(b,"timePicker"):Me(b,"shared")),Q=e.computed(()=>a.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),O=e.computed(()=>({dp__menu_disabled:a.disabled,dp__menu_readonly:a.readonly,"dp-menu-loading":a.loading})),g=e.computed(()=>({dp__menu:!0,dp__menu_index:!v.value.enabled,dp__relative:v.value.enabled,[a.menuClassName]:!!a.menuClassName})),H=h=>{Ee(h,R.value,!0)},F=()=>{a.escClose&&r("close-picker")},c=h=>{if(a.arrowNavigation){if(h==="up")return j();if(h==="down")return _();if(h==="left")return I();if(h==="right")return q()}else h==="left"||h==="up"?ee("handleArrow","left",0,h==="up"):ee("handleArrow","right",0,h==="down")},S=h=>{P(h.shiftKey),!a.disableMonthYearSelect&&h.code==="Tab"&&h.target.classList.contains("dp__menu")&&E.value.shiftKeyInMenu&&(h.preventDefault(),Ee(h,R.value,!0),r("close-picker"))},A=()=>{J(),r("time-picker-close")},le=h=>{var C,ie,se;(C=z.value)==null||C.toggleTimePicker(!1,!1),(ie=z.value)==null||ie.toggleMonthPicker(!1,!1,h),(se=z.value)==null||se.toggleYearPicker(!1,!1,h)},d=(h,C=0)=>{var ie,se,we;return h==="month"?(ie=z.value)==null?void 0:ie.toggleMonthPicker(!1,!0,C):h==="year"?(se=z.value)==null?void 0:se.toggleYearPicker(!1,!0,C):h==="time"?(we=z.value)==null?void 0:we.toggleTimePicker(!0,!1):le(C)},ee=(h,...C)=>{var ie,se;(ie=z.value)!=null&&ie[h]&&((se=z.value)==null||se[h](...C))},l=()=>{ee("selectCurrentDate")},T=(h,C)=>{ee("presetDate",h,C)},X=()=>{ee("clearHoverDate")},G=(h,C)=>{ee("updateMonthYear",h,C)},Z=h=>{if(S(h),h.key==="Home"||h.key==="End")return ee("selectWeekDate",h.key==="Home");if(h.key==="PageUp"||h.key==="PageDown")return h.shiftKey?ee("changeYear",h.key==="PageUp"):ee("changeMonth",h.key==="PageUp")};return n({updateMonthYear:G,switchView:d}),(h,C)=>{var ie,se,we;return e.openBlock(),e.createElementBlock("div",{id:h.uid?`dp-menu-${h.uid}`:void 0,ref_key:"dpMenuRef",ref:m,tabindex:"0",role:"dialog","aria-label":(ie=h.ariaLabels)==null?void 0:ie.menu,class:e.normalizeClass(g.value),style:e.normalizeStyle({"--dp-arrow-left":K.value}),onMouseleave:X,onClick:H,onKeydown:[e.withKeys(F,["esc"]),C[18]||(C[18]=e.withKeys(e.withModifiers(ae=>c("left"),["prevent"]),["left"])),C[19]||(C[19]=e.withKeys(e.withModifiers(ae=>c("up"),["prevent"]),["up"])),C[20]||(C[20]=e.withKeys(e.withModifiers(ae=>c("down"),["prevent"]),["down"])),C[21]||(C[21]=e.withKeys(e.withModifiers(ae=>c("right"),["prevent"]),["right"])),Z]},[(h.disabled||h.readonly)&&e.unref(v).enabled||h.loading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(O.value)},[h.loading?(e.openBlock(),e.createElementBlock("div",vr,Mr)):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),!e.unref(v).enabled&&!h.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(Q.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:V,class:e.normalizeClass({dp__menu_content_wrapper:((se=h.presetDates)==null?void 0:se.length)||!!h.$slots["left-sidebar"]||!!h.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((we=h.presetDates)==null?void 0:we.length)||!!h.$slots["left-sidebar"]||!!h.$slots["right-sidebar"])}),style:e.normalizeStyle({"--dp-menu-width":`${$.value}px`})},[h.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",Sr,[e.renderSlot(h.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(L.value)))])):e.createCommentVNode("",!0),h.presetDates.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.presetDates,(ae,fe)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:fe},[ae.slot?e.renderSlot(h.$slots,ae.slot,{key:0,presetDate:T,label:ae.label,value:ae.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(ae.style||{}),class:e.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":ae.testId??void 0,onClick:e.withModifiers(Se=>T(ae.value,ae.noTz),["prevent"]),onKeydown:[e.withKeys(e.withModifiers(Se=>T(ae.value,ae.noTz),["prevent"]),["enter"]),e.withKeys(e.withModifiers(Se=>T(ae.value,ae.noTz),["prevent"]),["space"])]},e.toDisplayString(ae.label),47,Dr))],64))),128))],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:U,class:"dp__instance_calendar",role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(N.value),e.mergeProps({ref_key:"dynCmpRef",ref:z},p.value,{"flow-step":e.unref(k),onMount:e.unref(ne),onUpdateFlowStep:e.unref(re),onResetFlow:e.unref(te),onFocusMenu:J,onSelectDate:C[0]||(C[0]=ae=>h.$emit("select-date")),onDateUpdate:C[1]||(C[1]=ae=>h.$emit("date-update",ae)),onTooltipOpen:C[2]||(C[2]=ae=>h.$emit("tooltip-open",ae)),onTooltipClose:C[3]||(C[3]=ae=>h.$emit("tooltip-close",ae)),onAutoApply:C[4]||(C[4]=ae=>h.$emit("auto-apply",ae)),onRangeStart:C[5]||(C[5]=ae=>h.$emit("range-start",ae)),onRangeEnd:C[6]||(C[6]=ae=>h.$emit("range-end",ae)),onInvalidFixedRange:C[7]||(C[7]=ae=>h.$emit("invalid-fixed-range",ae)),onTimeUpdate:C[8]||(C[8]=ae=>h.$emit("time-update")),onAmPmChange:C[9]||(C[9]=ae=>h.$emit("am-pm-change",ae)),onTimePickerOpen:C[10]||(C[10]=ae=>h.$emit("time-picker-open",ae)),onTimePickerClose:A,onRecalculatePosition:f,onUpdateMonthYear:C[11]||(C[11]=ae=>h.$emit("update-month-year",ae)),onAutoApplyInvalid:C[12]||(C[12]=ae=>h.$emit("auto-apply-invalid",ae)),onInvalidDate:C[13]||(C[13]=ae=>h.$emit("invalid-date",ae)),"onUpdate:internalModelValue":C[14]||(C[14]=ae=>h.$emit("update:internal-model-value",ae))}),e.createSlots({_:2},[e.renderList(y.value,(ae,fe)=>({name:ae,fn:e.withCtx(Se=>[e.renderSlot(h.$slots,ae,e.normalizeProps(e.guardReactiveProps({...Se})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),h.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",Cr,[e.renderSlot(h.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(L.value)))])):e.createCommentVNode("",!0),h.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Br,[h.$slots["action-extra"]?e.renderSlot(h.$slots,"action-extra",{key:0,selectCurrentDate:l}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!h.autoApply||e.unref(R).keepActionRow?(e.openBlock(),e.createBlock(Ma,e.mergeProps({key:2,"menu-mount":w.value},p.value,{"calendar-width":$.value,onClosePicker:C[15]||(C[15]=ae=>h.$emit("close-picker")),onSelectDate:C[16]||(C[16]=ae=>h.$emit("select-date")),onInvalidSelect:C[17]||(C[17]=ae=>h.$emit("invalid-select")),onSelectNow:l}),e.createSlots({_:2},[e.renderList(e.unref(B),(ae,fe)=>({name:ae,fn:e.withCtx(Se=>[e.renderSlot(h.$slots,ae,e.normalizeProps(e.guardReactiveProps({...Se})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],46,wr)}}}),$r=typeof window<"u"?window:void 0,zt=()=>{},Tr=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Ar=(t,n,o,r)=>{if(!t)return zt;let a=zt;const m=e.watch(()=>e.unref(t),u=>{a(),u&&(u.addEventListener(n,o,r),a=()=>{u.removeEventListener(n,o,r),a=zt})},{immediate:!0,flush:"post"}),p=()=>{m(),a()};return Tr(p),p},Pr=(t,n,o,r={})=>{const{window:a=$r,event:m="pointerdown"}=r;return a?Ar(a,m,u=>{const P=ke(t),E=ke(n);!P||!E||P===u.target||u.composedPath().includes(P)||u.composedPath().includes(E)||o(u)},{passive:!0}):void 0},Rr=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...ut},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:n,emit:o}){const r=o,a=t,m=e.useSlots(),p=e.ref(!1),u=e.toRef(a,"modelValue"),P=e.toRef(a,"timezone"),E=e.ref(null),b=e.ref(null),M=e.ref(null),v=e.ref(!1),R=e.ref(null),U=e.ref(!1),$=e.ref(!1),V=e.ref(!1),{setMenuFocused:w,setShiftKey:z}=yn(),{clearArrowNav:Y}=Ye(),{validateDate:q,isValidTime:I}=Ie(a),{defaultedTransitions:_,defaultedTextInput:j,defaultedInline:k,defaultedConfig:re,defaultedRange:ne,defaultedMultiDates:te}=me(a),{menuTransition:N,showTransition:K}=Xe(_);e.onMounted(()=>{c(a.modelValue),e.nextTick().then(()=>{if(!k.value.enabled){const i=O(R.value);i==null||i.addEventListener("scroll",Z),window==null||window.addEventListener("resize",h)}}),k.value.enabled&&(p.value=!0),window==null||window.addEventListener("keyup",C),window==null||window.addEventListener("keydown",ie)}),e.onUnmounted(()=>{if(!k.value.enabled){const i=O(R.value);i==null||i.removeEventListener("scroll",Z),window==null||window.removeEventListener("resize",h)}window==null||window.removeEventListener("keyup",C),window==null||window.removeEventListener("keydown",ie)});const J=Me(m,"all",a.presetDates),L=Me(m,"input");e.watch([u,P],()=>{c(u.value)},{deep:!0});const{openOnTop:f,menuStyle:B,xCorrect:y,setMenuPosition:Q,getScrollableParent:O,shadowRender:g}=da({menuRef:E,menuRefInner:b,inputRef:M,pickerWrapperRef:R,inline:k,emit:r,props:a,slots:m}),{inputValue:H,internalModelValue:F,parseExternalModelValue:c,emitModelValue:S,formatInputValue:A,checkBeforeEmit:le}=ua(r,a,v),d=e.computed(()=>({dp__main:!0,dp__theme_dark:a.dark,dp__theme_light:!a.dark,dp__flex_display:k.value.enabled,"dp--flex-display-collapsed":V.value,dp__flex_display_with_input:k.value.input})),ee=e.computed(()=>a.dark?"dp__theme_dark":"dp__theme_light"),l=e.computed(()=>a.teleport?{to:typeof a.teleport=="boolean"?"body":a.teleport,disabled:!a.teleport||k.value.enabled}:{}),T=e.computed(()=>({class:"dp__outer_menu_wrap"})),X=e.computed(()=>k.value.enabled&&(a.timePicker||a.monthPicker||a.yearPicker||a.quarterPicker)),G=()=>{var i,D;return(D=(i=M.value)==null?void 0:i.$el)==null?void 0:D.getBoundingClientRect()},Z=()=>{p.value&&(re.value.closeOnScroll?De():Q())},h=()=>{var D;p.value&&Q();const i=(D=b.value)==null?void 0:D.$el.getBoundingClientRect().width;V.value=document.body.offsetWidth<=i},C=i=>{i.key==="Tab"&&!k.value.enabled&&!a.teleport&&re.value.tabOutClosesMenu&&(R.value.contains(document.activeElement)||De()),$.value=i.shiftKey},ie=i=>{$.value=i.shiftKey},se=()=>{!a.disabled&&!a.readonly&&(g(Bn,a),Q(!1),p.value=!0,p.value&&r("open"),p.value||et(),c(a.modelValue))},we=()=>{var i;H.value="",et(),(i=M.value)==null||i.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),re.value.closeOnClearValue&&De()},ae=()=>{const i=F.value;return!i||!Array.isArray(i)&&q(i)?!0:Array.isArray(i)?te.value.enabled||i.length===2&&q(i[0])&&q(i[1])?!0:ne.value.partialRange&&!a.timePicker?q(i[0]):!1:!1},fe=()=>{le()&&ae()?(S(),De()):r("invalid-select",F.value)},Se=i=>{ft(),S(),re.value.closeOnAutoApply&&!i&&De()},ft=()=>{M.value&&j.value.enabled&&M.value.setParsedDate(F.value)},Kt=(i=!1)=>{a.autoApply&&I(F.value)&&ae()&&(ne.value.enabled&&Array.isArray(F.value)?(ne.value.partialRange||F.value.length===2)&&Se(i):Se(i))},et=()=>{j.value.enabled||(F.value=null)},De=()=>{k.value.enabled||(p.value&&(p.value=!1,y.value=!1,w(!1),z(!1),Y(),r("closed"),H.value&&c(u.value)),et(),r("blur"))},tt=(i,D,x=!1)=>{if(!i){F.value=null;return}const oe=Array.isArray(i)?!i.some(Ce=>!q(Ce)):q(i),ce=I(i);oe&&ce&&(F.value=i,D&&(U.value=x,fe(),r("text-submit")))},Ht=()=>{a.autoApply&&I(F.value)&&S(),ft()},mt=()=>p.value?De():se(),Wt=i=>{F.value=i},Ut=()=>{j.value.enabled&&(v.value=!0,A()),r("focus")},jt=()=>{if(j.value.enabled&&(v.value=!1,c(a.modelValue),U.value)){const i=Yn(R.value,$.value);i==null||i.focus()}r("blur")},xt=i=>{b.value&&b.value.updateMonthYear(0,{month:nn(i.month),year:nn(i.year)})},qt=i=>{c(i??a.modelValue)},Qt=(i,D)=>{var x;(x=b.value)==null||x.switchView(i,D)},$n=i=>re.value.onClickOutside?re.value.onClickOutside(i):De();return Pr(E,M,()=>$n(ae)),n({closeMenu:De,selectDate:fe,clearValue:we,openMenu:se,onScroll:Z,formatInputValue:A,updateInternalModelValue:Wt,setMonthYear:xt,parseModel:qt,switchView:Qt,toggleMenu:mt}),(i,D)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:R,class:e.normalizeClass(d.value),"data-datepicker-instance":""},[e.createVNode(ba,e.mergeProps({ref_key:"inputRef",ref:M,"input-value":e.unref(H),"onUpdate:inputValue":D[0]||(D[0]=x=>e.isRef(H)?H.value=x:null),"is-menu-open":p.value},i.$props,{onClear:we,onOpen:se,onSetInputDate:tt,onSetEmptyDate:e.unref(S),onSelectDate:fe,onToggle:mt,onClose:De,onFocus:Ut,onBlur:jt,onRealBlur:D[1]||(D[1]=x=>v.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(L),(x,oe)=>({name:x,fn:e.withCtx(ce=>[e.renderSlot(i.$slots,x,e.normalizeProps(e.guardReactiveProps(ce)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(i.teleport?e.Teleport:"div"),e.normalizeProps(e.guardReactiveProps(l.value)),{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:e.unref(N)(e.unref(f)),css:e.unref(K)&&!e.unref(k).enabled},{default:e.withCtx(()=>[p.value?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:E},T.value,{class:{"dp--menu-wrapper":!e.unref(k).enabled},style:e.unref(k).enabled?void 0:e.unref(B)}),[e.createVNode(Bn,e.mergeProps({ref_key:"dpMenuRef",ref:b},i.$props,{"internal-model-value":e.unref(F),"onUpdate:internalModelValue":D[2]||(D[2]=x=>e.isRef(F)?F.value=x:null),class:{[ee.value]:!0,"dp--menu-wrapper":i.teleport},"open-on-top":e.unref(f),"no-overlay-focus":X.value,collapse:V.value,"get-input-rect":G,onClosePicker:De,onSelectDate:fe,onAutoApply:Kt,onTimeUpdate:Ht,onFlowStep:D[3]||(D[3]=x=>i.$emit("flow-step",x)),onUpdateMonthYear:D[4]||(D[4]=x=>i.$emit("update-month-year",x)),onInvalidSelect:D[5]||(D[5]=x=>i.$emit("invalid-select",e.unref(F))),onAutoApplyInvalid:D[6]||(D[6]=x=>i.$emit("invalid-select",x)),onInvalidFixedRange:D[7]||(D[7]=x=>i.$emit("invalid-fixed-range",x)),onRecalculatePosition:e.unref(Q),onTooltipOpen:D[8]||(D[8]=x=>i.$emit("tooltip-open",x)),onTooltipClose:D[9]||(D[9]=x=>i.$emit("tooltip-close",x)),onTimePickerOpen:D[10]||(D[10]=x=>i.$emit("time-picker-open",x)),onTimePickerClose:D[11]||(D[11]=x=>i.$emit("time-picker-close",x)),onAmPmChange:D[12]||(D[12]=x=>i.$emit("am-pm-change",x)),onRangeStart:D[13]||(D[13]=x=>i.$emit("range-start",x)),onRangeEnd:D[14]||(D[14]=x=>i.$emit("range-end",x)),onDateUpdate:D[15]||(D[15]=x=>i.$emit("date-update",x)),onInvalidDate:D[16]||(D[16]=x=>i.$emit("invalid-date",x))}),e.createSlots({_:2},[e.renderList(e.unref(J),(x,oe)=>({name:x,fn:e.withCtx(ce=>[e.renderSlot(i.$slots,x,e.normalizeProps(e.guardReactiveProps({...ce})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),Lt=(()=>{const t=Rr;return t.install=n=>{n.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Lt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,n])=>{t!=="default"&&(Lt[t]=n)}),Lt});
